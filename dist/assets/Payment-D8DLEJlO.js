import{d as E,s as T,l as p,o as z,f as P,P as s,S as t,w as i,Q as n,R as y,F as S}from"./index-z1lnycFL.js";import{E as B}from"./el-pagination-CW_cfzOp.js";/* empty css                 */import"./el-tag-YLIfQqcE.js";import"./el-select-xgJ2gGrg.js";import"./el-scrollbar-D-pOLxMj.js";import"./el-popper-B7J-cV2H.js";import{E as R,a as $}from"./el-table-column-C-rYy-n-.js";import"./el-checkbox-B2gCYMrl.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-button-C93tUob9.js";import{T as D}from"./index-DqO2zilj.js";import{_ as F}from"./ApplyInvoice.vue_vue_type_script_setup_true_lang-DTiBvUem.js";import{a as b}from"./index-P8l7gLhc.js";/* empty css                   *//* empty css                       *//* empty css                   */import{E as N}from"./index-DllrCRMq.js";import{E as U}from"./index-BzXKYKgM.js";import"./index-5pYrHxHw.js";import"./isEqual-BbYM-4Ba.js";import"./_initCloneObject-DYOGIJrZ.js";import"./index-BkWBfb-P.js";import"./event-BB_Ol6Sd.js";import"./request-aXdAhXIg.js";import"./scroll-BCz3Esio.js";import"./castArray-C_8BC8pz.js";import"./isArrayLikeObject-CB844vlx.js";import"./el-form-item-CEpn_uB5.js";import"./_baseClone-08HETTmO.js";import"./el-date-picker-vu-zh8Du.js";import"./arrays-6TrVLtTe.js";import"./index-wyD990z0.js";import"./el-radio-mLjZ-LRc.js";/* empty css                          */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./el-dialog-DLgRERcb.js";import"./index-xYMOok71.js";import"./vnode-Dbe6RxbW.js";import"./refs-Drwk4c_1.js";import"./el-progress-BLUp0W5A.js";import"./cloneDeep-C4zCkx7j.js";import"./index-7kguwBA1.js";import"./aria-KgdLjl5h.js";import"./validator-BE8XcUtN.js";const V={class:"s-flex-col",style:{height:"100%"}},A=s("div",null,null,-1),I={class:"s-table-operations"},L={class:"s-flex-auto",style:{"min-height":"0"}},M={class:"s-table-pagination"},Ft=E({__name:"Payment",setup(Q){const l=T({page:1,perPage:10}),d=p(0),u=p({}),f=p([]),v=p(null),_=p([]),h=p(null),w=o=>{u.value=o,l.page=1,m()},m=async()=>{b.payment.getList({...u.value,...l}).then(o=>{o.code===0&&(f.value=o.data.data,d.value=o.data.total)})},k=o=>{N.confirm("确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{}).catch(()=>{})};return b.payment.getSearchField().then(o=>{o.code===0&&(_.value=o.data)}),m(),(o,r)=>{const c=U,e=R,C=$,x=B;return z(),P(S,null,[s("div",V,[A,t(D,{data:_.value,onSearch:w},null,8,["data"]),s("div",I,[t(c,{size:"small",onClick:r[0]||(r[0]=()=>{})},{default:i(()=>[n("合并开票")]),_:1})]),s("div",L,[t(C,{ref_key:"tableRef",ref:v,data:f.value,border:"","table-layout":"fixed",height:"100%","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[t(e,{type:"selection",width:"42"}),t(e,{prop:"code",label:"编号",width:"180"}),t(e,{prop:"companyName",label:"企业名称","min-width":"120"}),t(e,{prop:"positionCode",label:"展位号"}),t(e,{prop:"payCompany",label:"付款公司","min-width":"120"}),t(e,{prop:"payPrice",label:"付款金额","min-width":"120"}),t(e,{prop:"",label:"付款方式","min-width":"120"}),t(e,{prop:"orderPrice",label:"订单金额","min-width":"120"}),t(e,{prop:"payType",label:"付款类型","min-width":"120"},{default:i(a=>[n(y({1:"预定金",2:"首款",3:"二次款",4:"尾款",5:"转款"}[a.row.payType]),1)]),_:1}),t(e,{prop:"receiveAccount",label:"收款账户","min-width":"120"}),t(e,{prop:"payTime",label:"到款时间","min-width":"120"}),t(e,{prop:"invoiceStatus",label:"发票"},{default:i(a=>[n(y({0:"未申请",1:"待开票",2:"已开票"}[a.row.invoiceStatus]),1)]),_:1}),t(e,{prop:"clueUser",label:"持有人"}),t(e,{fixed:"right",label:"操作",width:"120"},{default:i(a=>[t(c,{link:"",type:"primary",size:"small",onClick:g=>o.$router.push("/market/clues/edit/"+a.row.id)},{default:i(()=>[n("详情")]),_:2},1032,["onClick"]),t(c,{link:"",type:"primary",size:"small",onClick:g=>h.value.setApplay(a.row)},{default:i(()=>[n("申请发票")]),_:2},1032,["onClick"]),t(c,{link:"",type:"primary",size:"small",onClick:g=>k([a.row.id])},{default:i(()=>[n("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),s("div",M,[t(x,{layout:"total, sizes, prev, pager, next","page-sizes":[10,20,50],total:d.value,"current-page":l.page,"onUpdate:currentPage":r[1]||(r[1]=a=>l.page=a),"page-size":l.perPage,"onUpdate:pageSize":r[2]||(r[2]=a=>l.perPage=a),onChange:m},null,8,["total","current-page","page-size"])])]),t(F,{ref_key:"applyInvoiceRef",ref:h,onCallback:m},null,512)],64)}}});export{Ft as default};
