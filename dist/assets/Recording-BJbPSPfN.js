import{d as $,l as z,s as L,N as M,o as v,b as y,O as n,R as e,i as l,P as d,F,V as O,Y as G,a6 as Z,h as j,Z as A,_ as H}from"./index-BCumuH2l.js";/* empty css                     */import{E as J}from"./el-row-B3Q3_SzM.js";import{E as K}from"./el-col-2WUFzs03.js";import{E as Q}from"./el-progress-BYlrxkw4.js";import{E as W}from"./el-image-viewer-CHpRcp5m.js";/* empty css                       *//* empty css                 */import"./el-scrollbar-DYhKSyot.js";import"./el-popper-DuA7pbMX.js";/* empty css                  */import"./el-tag-BkIRG4gH.js";import{a as X,E as ee}from"./el-select-Dn8g1hD5.js";/* empty css                 */import{p as le}from"./index-zwJVtKDU.js";import{u as oe}from"./index-OHwu8Osq.js";/* empty css                   */import{E as ae}from"./index-CGEPfdHm.js";import{a as te,E as de}from"./index-KsNwzYtN.js";import{a as I}from"./request--qZdk5mN.js";import{E as ne,a as se}from"./index-C93lHvfN.js";import{E as ue}from"./index-x58V2ps9.js";import{E as re}from"./index-DTTQnmv4.js";import{E as ie}from"./index-BNMC9-9K.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-DPxtBdX-.js";import"./cloneDeep-DaR3SEY2.js";import"./_baseClone-7GzUapHy.js";import"./_Uint8Array-CjJrf9_z.js";import"./_initCloneObject-B8PdS-lA.js";import"./isEqual-Du7s0shl.js";import"./scroll-DEYraRnD.js";import"./event-BB_Ol6Sd.js";import"./castArray--BTnThqL.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./arrays-6TrVLtTe.js";import"./index-DMIrdWoP.js";const P=V=>(A("data-v-4da0fe3c"),V=V(),H(),V),ce={class:"recording"},me={class:"top"},_e=P(()=>n("span",{style:{"margin-right":"20px"}},"录入到款信息",-1)),fe=P(()=>n("div",{class:"s-flex-auto"},null,-1)),ve={style:{"margin-bottom":"10px"}},Ve={style:{"text-align":"center"}},ye={class:"image-slot"},he={style:{"text-align":"center"}},be={class:"image-slot"},ge={style:{"text-align":"center"}},Ue={class:"image-slot"},Ee={style:{"text-align":"center","margin-top":"30px"}},ke=$({__name:"Recording",setup(V){G();const T=Z(),h=z(Number(T.query.id)),m=L([{orderId:h,invoice:{}}]),B=()=>{m.push({orderId:h,invoice:{}})},b=r=>r.size/1024/1024>3?(I.error("文件大小不能超过 3MB!"),!1):!0,g=r=>{let i=new FormData;return i.append("upload",r.file),new Promise((s,p)=>{oe(i).then(c=>{c.code===0?s(c.data):p(c)})})},S=r=>{le.add(m[r]).then(i=>{i.code===0?(I.success("保存成功"),m[r].isSub=!0):I.error(i.msg)})};return(r,i)=>{const s=ae,p=ne,c=se,t=de,u=ue,f=X,q=ee,N=re,U=M("Picture"),E=ie,k=W,w=Q,_=K,x=J,Y=te;return v(),y("div",ce,[n("div",me,[_e,e(s,{onClick:r.$router.back},{default:l(()=>[d("返回")]),_:1},8,["onClick"]),fe,e(s,{type:"primary",onClick:B},{default:l(()=>[d("添加明细")]),_:1})]),n("div",ve,[e(s,{link:"",type:"primary",onClick:i[0]||(i[0]=o=>r.$router.push({name:"ContractDetail",query:{orderId:h.value}}))},{default:l(()=>[d("查看合同")]),_:1})]),n("div",null,[e(Y,{data:m,"label-width":"auto"},{default:l(()=>[(v(!0),y(F,null,O(m,(o,C)=>(v(),y("div",{key:C,class:"item"},[e(x,{gutter:20},{default:l(()=>[e(_,{md:12},{default:l(()=>[e(t,{label:"订单类型"},{default:l(()=>[e(c,{modelValue:o.orderType,"onUpdate:modelValue":a=>o.orderType=a},{default:l(()=>[e(p,{value:1},{default:l(()=>[d("展位")]),_:1}),e(p,{value:2},{default:l(()=>[d("物料")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"付款公司"},{default:l(()=>[e(u,{modelValue:o.payCompany,"onUpdate:modelValue":a=>o.payCompany=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"到款类型"},{default:l(()=>[e(q,{modelValue:o.payType,"onUpdate:modelValue":a=>o.payType=a},{default:l(()=>[e(f,{label:"预定金",value:1}),e(f,{label:"首款",value:2}),e(f,{label:"二次款",value:3}),e(f,{label:"尾款",value:4}),e(f,{label:"转款",value:5})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"到款金额"},{default:l(()=>[e(u,{modelValue:o.payPrice,"onUpdate:modelValue":a=>o.payPrice=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"到款时间"},{default:l(()=>[e(N,{modelValue:o.payTime,"onUpdate:modelValue":a=>o.payTime=a,type:"date","value-format":"YYYY-MM-DD",placeholder:"",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"收款账户"},{default:l(()=>[e(u,{modelValue:o.account,"onUpdate:modelValue":a=>o.account=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(x,null,{default:l(()=>[e(_,{span:12},{default:l(()=>[e(t,{label:"付款凭证"},{default:l(()=>[n("div",Ve,[e(k,{src:o.payImg,"preview-src-list":[o.payImg],fit:"contain",style:{width:"100px",height:"100px"}},{error:l(()=>[n("div",ye,[e(E,null,{default:l(()=>[e(U)]),_:1})])]),_:2},1032,["src","preview-src-list"]),e(w,{class:"","show-file-list":!1,"on-success":(a,D,R)=>{o.payImg=a.url},"before-upload":b,"http-request":g},{default:l(()=>[e(s,{type:"primary",size:"small"},{default:l(()=>[d("上传文件")]),_:1})]),_:2},1032,["on-success"])])]),_:2},1024)]),_:2},1024),e(_,{span:12},{default:l(()=>[e(t,{label:"到款凭证"},{default:l(()=>[n("div",he,[e(k,{src:o.receiveImg,"preview-src-list":[o.receiveImg],fit:"contain",style:{width:"100px",height:"100px"}},{error:l(()=>[n("div",be,[e(E,null,{default:l(()=>[e(U)]),_:1})])]),_:2},1032,["src","preview-src-list"]),e(w,{class:"","show-file-list":!1,"on-success":(a,D,R)=>{o.receiveImg=a.url},"before-upload":b,"http-request":g},{default:l(()=>[e(s,{type:"primary",size:"small"},{default:l(()=>[d("上传文件")]),_:1})]),_:2},1032,["on-success"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(_,{md:12},{default:l(()=>[e(t,{label:"发票抬头"},{default:l(()=>[e(u,{modelValue:o.invoice.title,"onUpdate:modelValue":a=>o.invoice.title=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"社会信用代码"},{default:l(()=>[e(u,{modelValue:o.invoice.socialCode,"onUpdate:modelValue":a=>o.invoice.socialCode=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"联系人"},{default:l(()=>[e(u,{modelValue:o.invoice.contact,"onUpdate:modelValue":a=>o.invoice.contact=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"手机号"},{default:l(()=>[e(u,{modelValue:o.invoice.phone,"onUpdate:modelValue":a=>o.invoice.phone=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"发送邮箱"},{default:l(()=>[e(u,{modelValue:o.invoice.email,"onUpdate:modelValue":a=>o.invoice.email=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"发票类型"},{default:l(()=>[e(c,{modelValue:o.invoice.type,"onUpdate:modelValue":a=>o.invoice.type=a},{default:l(()=>[e(p,{value:1},{default:l(()=>[d("电子专票")]),_:1}),e(p,{value:2},{default:l(()=>[d("电子普票")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"开票状态"},{default:l(()=>[e(c,{modelValue:o.invoice.status,"onUpdate:modelValue":a=>o.invoice.status=a},{default:l(()=>[e(p,{value:1},{default:l(()=>[d("待开票")]),_:1}),e(p,{value:2},{default:l(()=>[d("已开票")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"发票号"},{default:l(()=>[e(u,{modelValue:o.invoice.invoiceCode,"onUpdate:modelValue":a=>o.invoice.invoiceCode=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(t,{label:"发票附件"},{default:l(()=>[n("div",ge,[e(k,{src:o.invoice.img,"preview-src-list":[o.invoice.img],fit:"contain",style:{width:"100px",height:"100px"}},{error:l(()=>[n("div",Ue,[e(E,null,{default:l(()=>[e(U)]),_:1})])]),_:2},1032,["src","preview-src-list"]),e(w,{class:"","show-file-list":!1,"on-success":(a,D,R)=>{o.invoice.img=a.url},"before-upload":b,"http-request":g},{default:l(()=>[e(s,{type:"primary",size:"small"},{default:l(()=>[d("上传文件")]),_:1})]),_:2},1032,["on-success"])])]),_:2},1024)]),_:2},1024),e(_,{span:24},{default:l(()=>[e(t,{label:"备注"},{default:l(()=>[e(u,{type:"textarea",modelValue:o.remark,"onUpdate:modelValue":a=>o.remark=a},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(_,{span:24},{default:l(()=>[n("div",Ee,[o.isSub?(v(),j(s,{key:0,type:"primary",disabled:""},{default:l(()=>[d("已提交")]),_:1})):(v(),y(F,{key:1},[e(s,{type:"primary",onClick:a=>S(C)},{default:l(()=>[d("保存")]),_:2},1032,["onClick"]),e(s,{onClick:a=>m.splice(C,1)},{default:l(()=>[d("取消")]),_:2},1032,["onClick"])],64))])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["data"])])])}}}),ul=pe(ke,[["__scopeId","data-v-4da0fe3c"]]);export{ul as default};
