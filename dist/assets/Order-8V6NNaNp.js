import{d as z,s as S,l as s,o as P,f as B,S as e,P as _,w as a,Q as i,R as u}from"./index-Q273XHf8.js";import{E as R}from"./el-pagination-B5PtXqbH.js";import"./el-input-Dg3qt5Bb.js";import"./el-tag-DqRVPKx1.js";/* empty css                  */import"./el-scrollbar-0l_cZ0S_.js";import{E as T,a as $}from"./el-table-column-DSWDUPh9.js";import"./el-checkbox-CUmpTspT.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-button-DXeH7ULc.js";import{E as D}from"./el-link-DcSwarbh.js";import{T as N}from"./index-BzjwArE3.js";import{a as h}from"./index-exojVlLN.js";/* empty css                   *//* empty css                       *//* empty css                   */import{E as f}from"./request-CQ37sLB9.js";import{E as L}from"./index-BTJsYqsj.js";import{E as U}from"./index-nVic9h1r.js";import"./index-CRFYaBQA.js";import"./index-Bkne1dct.js";import"./index-j8eE0ruH.js";import"./typescript-CjU46sqC.js";import"./constants-D7u2-Egf.js";import"./isEqual-DPHZFWxr.js";import"./scroll-BIoQ-qBU.js";import"./index-Bvt8dlHX.js";import"./isArrayLikeObject-BKJ0Asn3.js";/* empty css                     *//* empty css                                                              *//* empty css                       *//* empty css                 *//* empty css                          */import"./index-TOYvJhkT.js";import"./index-DM6p5gww.js";import"./arrays-6TrVLtTe.js";import"./index-mpwgweJ1.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CUKUieZ5.js";import"./vnode-CembcOEi.js";import"./aria-KgdLjl5h.js";import"./validator-Dg3P4JN7.js";import"./index-r5W6hzzQ.js";const V={class:"s-flex-col",style:{height:"100%"}},M=_("div",null,null,-1),F={class:"s-flex-auto",style:{"min-height":"0"}},O={class:"s-table-pagination"},Te=z({__name:"Order",setup(Q){const n=S({page:1,perPage:10}),k=s(0),v=s({}),g=s([]),b=s(null),y=s([]),w=r=>{v.value=r,n.page=1,m()},m=async()=>{h.order.getList().then(r=>{r.code===0&&(g.value=r.data)})},c=()=>{let r=b.value.getSelectionRows().map(l=>l.id);if(r.length===0){f.warning("请选择需要删除的线索");return}L.confirm("确定删除所选线索？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{h.del({id:r}).then(l=>{l.code===0?(f.success("删除成功"),m()):f.error(l.msg)})}).catch(()=>{})};return m(),(r,l)=>{const t=T,C=D,p=U,E=$,x=R;return P(),B("div",V,[M,e(N,{data:y.value,onSearch:w},null,8,["data"]),_("div",F,[e(E,{ref_key:"tableRef",ref:b,data:g.value,border:"","table-layout":"fixed",height:"100%","header-row-class-name":"s-table-header"},{default:a(()=>[e(t,{type:"selection",width:"42"}),e(t,{prop:"orderCode",label:"订单编号",width:"180"}),e(t,{prop:"companyName",label:"企业名称"}),e(t,{prop:"hallCode",label:"展位号"}),e(t,{prop:"brand",label:"参展品牌"}),e(t,{prop:"area",label:"面积"}),e(t,{prop:"num",label:"展位数"}),e(t,{prop:"orderPrice",label:"订单金额"}),e(t,{prop:"contractStatus",label:"合同状态"},{default:a(o=>[i(u(["未签订","已签订","已回执"][o.row.contractStatus]),1)]),_:1}),e(t,{prop:"contractReceipt",label:"合同附件"},{default:a(o=>[e(C,{href:o.row.contractReceipt,target:"_blank"},{default:a(()=>[i(u(o.row.contractReceipt),1)]),_:2},1032,["href"])]),_:1}),e(t,{prop:"deposit",label:"定金"}),e(t,{prop:"receivedPrice",label:"已收"}),e(t,{prop:"unknownPrice",label:"未收款"}),e(t,{prop:"invoiceStatus",label:"发票"},{default:a(o=>[i(u(["未申请","待开票","部分开票","已开票"][o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"clueUser",label:"持有人"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:a(o=>[e(p,{link:"",type:"primary",size:"small",onClick:d=>r.$router.push("/market/clues/edit/"+o.row.id)},{default:a(()=>[i("详情")]),_:2},1032,["onClick"]),e(p,{link:"",type:"primary",size:"small",onClick:d=>c([o.row.id])},{default:a(()=>[i("申请发票")]),_:2},1032,["onClick"]),e(p,{link:"",type:"primary",size:"small",onClick:d=>c([o.row.id])},{default:a(()=>[i("录入到款")]),_:2},1032,["onClick"]),e(p,{link:"",type:"primary",size:"small",onClick:d=>c([o.row.id])},{default:a(()=>[i("撤销")]),_:2},1032,["onClick"]),e(p,{link:"",type:"primary",size:"small",onClick:d=>c([o.row.id])},{default:a(()=>[i("下推")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_("div",O,[e(x,{layout:"total, sizes, prev, pager, next","page-sizes":[10,20,50],total:k.value,"current-page":n.page,"onUpdate:currentPage":l[0]||(l[0]=o=>n.page=o),"page-size":n.perPage,"onUpdate:pageSize":l[1]||(l[1]=o=>n.perPage=o),onChange:m},null,8,["total","current-page","page-size"])])])}}});export{Te as default};
