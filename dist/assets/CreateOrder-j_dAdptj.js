import{d as B,l as k,c as J,b as h,O as t,Q as d,e as E,F as R,U as T,R as e,i as r,Y as q,a5 as I,o as y,P as i,V as F,W}from"./index-CWRtPfdn.js";import{E as j}from"./button-BkjgE-v2.js";/* empty css                    */import{E as D,a as G}from"./radio-D5duxiGm.js";/* empty css              */import{E as L}from"./input-number-DSzs8JKc.js";import{a as M,E as Q}from"./table-column-CLOYcQw6.js";import"./checkbox-i5y_h5kz.js";/* empty css                */import"./popper-BTkOiFRD.js";import"./scrollbar-CAcnGJxp.js";import"./tag-DF0Wtsjf.js";import{b as Y}from"./index-D88Y-yhb.js";/* empty css                */import{c as g}from"./request-DRmFaSUF.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-D-ZaM-KB.js";import"./event-BB_Ol6Sd.js";import"./index-CBL4HN_f.js";import"./index-BJFZABp0.js";import"./_initCloneObject-DqCTTA6F.js";import"./isEqual-DP1SEmiB.js";import"./focus-trap-B5ENKrgJ.js";const c=m=>(F("data-v-24609e4a"),m=m(),W(),m),A={class:"create-order"},H={class:"p1"},K=c(()=>t("div",{class:"p2"},"展位清单",-1)),X={class:"p3"},Z={class:"p4"},$=c(()=>t("span",null,"预定金",-1)),ee=c(()=>t("span",null,"元",-1)),oe=c(()=>t("span",{style:{margin:"0 10px 0 40px"}},"是否冲抵展位费",-1)),ae=c(()=>t("span",{style:{"margin-left":"10px"}},"%",-1)),te={style:{"text-align":"center",padding:"20px"}},le=B({__name:"CreateOrder",setup(m){const b=q(),_=I(),O=_.query.companyName,u=k({});u.value=JSON.parse(_.query.data);const S={1:"%",2:"￥"},v=o=>{let s=[];return o.forEach(l=>{let n=JSON.parse(l);s.push(n.price+S[n.unit])}),s.join("，")},C=J(()=>o=>{let s=o.finalPrice;return o.isOffset===1&&(s=s-o.deposit),o.payType===2?s=s*o.ratio/100:o.ratio=0,s<0?0:Number(s.toFixed(2))}),U=()=>{let o=JSON.parse(JSON.stringify(u.value)),s=o.add.map(n=>JSON.parse(n)),l=o.discount.map(n=>JSON.parse(n));o.add=s,o.discount=l,Y.create(o).then(n=>{n.code===0?(g.success("提交成功"),b.push({name:"Will"})):g.error(n.msg)})},P=()=>{b.push({name:"BoothReserve",query:{..._.query}})};return(o,s)=>{const l=M,n=Q,V=L,f=D,x=G,N=j;return y(),h("div",A,[t("div",H,d(E(_).query.exhibitionName),1),K,(y(!0),h(R,null,T(u.value.position,(a,w)=>(y(),h("div",{key:w,class:"item"},[e(n,{data:[a],border:""},{default:r(()=>[e(l,{prop:"name",label:"企业名称","min-width":"120"},{default:r(p=>[i(d(E(O)),1)]),_:1}),e(l,{prop:"companyBrand",label:"参展品牌","min-width":"120"}),e(l,{prop:"hallCode",label:"展馆号"}),e(l,{prop:"positionCode",label:"展位号"}),e(l,{prop:"product",label:"产品名称","min-width":"120"}),e(l,{prop:"unitPrice",label:"单价"}),e(l,{prop:"area",label:"面积"}),e(l,{prop:"discount",label:"折扣"},{default:r(p=>[i(d(v(u.value.discount)),1)]),_:1}),e(l,{prop:"add",label:"加收"},{default:r(p=>[i(d(v(u.value.add)),1)]),_:1})]),_:2},1032,["data"]),t("div",X,[t("span",null,"订单原价："+d(a.costPrice),1),t("span",null,"最终金额："+d(a.finalPrice),1),t("span",null,"待支付金额："+d(C.value(a)),1),t("span",null,"优惠金额："+d(a.discountPrice),1),t("span",null,"加收金额："+d(a.addPrice),1)]),t("div",Z,[$,e(V,{modelValue:a.deposit,"onUpdate:modelValue":p=>a.deposit=p,placeholder:"请输入金额",min:0,controls:!1,style:{width:"120px",margin:"0 10px 0 10px"}},null,8,["modelValue","onUpdate:modelValue"]),ee,oe,e(x,{modelValue:a.isOffset,"onUpdate:modelValue":p=>a.isOffset=p},{default:r(()=>[e(f,{value:1},{default:r(()=>[i("是")]),_:1}),e(f,{value:2},{default:r(()=>[i("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(x,{modelValue:a.payType,"onUpdate:modelValue":p=>a.payType=p,style:{margin:"0 10px 0 40px"}},{default:r(()=>[e(f,{value:1},{default:r(()=>[i("全款")]),_:1}),e(f,{value:2},{default:r(()=>[i("分期")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(V,{modelValue:a.ratio,"onUpdate:modelValue":p=>a.ratio=p,"value-on-clear":0,placeholder:"分期比例",min:0,max:100,controls:!1,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),ae])]))),128)),t("div",te,[e(N,{type:"primary",onClick:U},{default:r(()=>[i("提交订单")]),_:1}),e(N,{type:"",onClick:P},{default:r(()=>[i("返回")]),_:1})])])}}}),Ue=z(le,[["__scopeId","data-v-24609e4a"]]);export{Ue as default};
