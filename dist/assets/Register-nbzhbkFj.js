import{d as S,l as V,s as B,o as f,b as E,R as e,O as d,i as o,F as L,V as $,P as n,Y as A,h as G,Z as O,_ as T}from"./index-BCumuH2l.js";/* empty css                     *//* empty css                          */import{E as H,a as M}from"./el-checkbox-CCbI2xFo.js";import{E as P}from"./el-link-CFpWMWOs.js";/* empty css                  *//* empty css                 */import{E as Y}from"./el-row-B3Q3_SzM.js";/* empty css                 */import"./el-tag-BkIRG4gH.js";import{E as Z,a as j}from"./el-select-Dn8g1hD5.js";import"./el-scrollbar-DYhKSyot.js";import"./el-popper-DuA7pbMX.js";import{E as z}from"./el-col-2WUFzs03.js";import{v as D}from"./Header-DyXEsTIr.js";import{s as J,r as K,a as Q}from"./index-Cn2yrxs-.js";/* empty css                   */import{a as i}from"./request--qZdk5mN.js";import{E as W}from"./index-x58V2ps9.js";import{E as X,a as ee}from"./index-KsNwzYtN.js";import{E as oe,a as te}from"./index-C93lHvfN.js";import{E as le}from"./index-CGEPfdHm.js";import{_ as re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-DPxtBdX-.js";import"./event-BB_Ol6Sd.js";import"./index-BNMC9-9K.js";import"./isEqual-Du7s0shl.js";import"./_Uint8Array-CjJrf9_z.js";import"./scroll-DEYraRnD.js";import"./castArray--BTnThqL.js";import"./logo-NwV_MDhb.js";import"./_baseClone-7GzUapHy.js";import"./_initCloneObject-B8PdS-lA.js";const ae=u=>(O("data-v-4e5ba725"),u=u(),T(),u),se={class:"register-main"},me={class:"register-container"},pe=ae(()=>d("div",{class:"register-title"},[d("div",{class:"label"},"参展企业注册")],-1)),ne={style:{flex:"1","text-align":"center","margin-top":"20px"}},ue=S({__name:"Register",setup(u){const v=A(),_=V(),r=B({companyName:"",sponsorId:"",userName:"",gender:"1",email:"",phone:"",code:"",policy:[]}),x={companyName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],sponsorId:[{required:!0,message:"请选择主办",trigger:"blur"}],userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],policy:[{type:"array",required:!0,message:"请阅读并同意",trigger:"change"}]},g=V([]);J().then(m=>{m.code===0&&(g.value=m.data)});const k=m=>{m.validate(t=>{if(t)h();else return console.log("error submit"),!1})},h=()=>{let{policy:m,...t}=r;K(t).then(a=>{a.code===0?(i.success("注册成功"),setTimeout(()=>{v.push("/login")},1e3)):i.error(a.msg)})},N=m=>{m.validateField(["phone"],t=>{if(t)Q(r).then(a=>{a.code===0?i.success("验证码已发送，请注意查收"):i.error(a.msg)});else return console.log("error phone"),!1})};return(m,t)=>{const a=W,s=X,p=z,w=j,I=Z,c=Y,b=oe,F=te,y=le,R=P,C=H,U=M,q=ee;return f(),E("div",se,[e(D),d("div",me,[pe,e(q,{style:{width:"900px",margin:"0 auto"},ref_key:"ruleFormRef",ref:_,model:r,rules:x,"label-width":"auto",class:"demo-ruleForm","status-icon":""},{default:o(()=>[e(c,{gutter:20},{default:o(()=>[e(p,{span:12},{default:o(()=>[e(s,{label:"企业名称",prop:"companyName"},{default:o(()=>[e(a,{modelValue:r.companyName,"onUpdate:modelValue":t[0]||(t[0]=l=>r.companyName=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:o(()=>[e(s,{label:"选择主办",prop:"sponsorId"},{default:o(()=>[e(I,{modelValue:r.sponsorId,"onUpdate:modelValue":t[1]||(t[1]=l=>r.sponsorId=l),placeholder:"请选择主办"},{default:o(()=>[(f(!0),E(L,null,$(g.value,l=>(f(),G(w,{key:l.id,label:l.name,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:o(()=>[e(p,{span:12},{default:o(()=>[e(s,{label:"姓名",prop:"userName"},{default:o(()=>[e(a,{modelValue:r.userName,"onUpdate:modelValue":t[2]||(t[2]=l=>r.userName=l),style:{width:"calc(100% - 160px)"}},null,8,["modelValue"]),e(s,{label:"",prop:"gender"},{default:o(()=>[e(F,{modelValue:r.gender,"onUpdate:modelValue":t[3]||(t[3]=l=>r.gender=l),style:{"margin-left":"10px",width:"150px"}},{default:o(()=>[e(b,{value:"1"},{default:o(()=>[n("先生")]),_:1}),e(b,{value:"2"},{default:o(()=>[n("女士")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(p,{span:12},{default:o(()=>[e(s,{label:"手机号",prop:"phone"},{default:o(()=>[e(a,{modelValue:r.phone,"onUpdate:modelValue":t[4]||(t[4]=l=>r.phone=l),style:{width:"calc(100% - 110px)"}},null,8,["modelValue"]),e(y,{type:"primary",style:{"margin-left":"10px",width:"100px"},onClick:t[5]||(t[5]=l=>N(_.value))},{default:o(()=>[n("发送验证码")]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{gutter:20},{default:o(()=>[e(p,{span:12},{default:o(()=>[e(s,{label:"注册人邮箱",prop:"email"},{default:o(()=>[e(a,{modelValue:r.email,"onUpdate:modelValue":t[6]||(t[6]=l=>r.email=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{span:12},{default:o(()=>[e(s,{label:"验证码",prop:"code"},{default:o(()=>[e(a,{modelValue:r.code,"onUpdate:modelValue":t[7]||(t[7]=l=>r.code=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,{label:"",prop:"policy",style:{"margin-top":"20px"}},{default:o(()=>[e(U,{modelValue:r.policy,"onUpdate:modelValue":t[8]||(t[8]=l=>r.policy=l)},{default:o(()=>[e(C,{value:"1",name:"policy"},{default:o(()=>[e(R,{href:"https://scm.exposaas.com/web/terms/use",type:"primary",target:"_blank"},{default:o(()=>[n(" 已阅读并同意《注册条款》、《隐私声明》、《安全产品、服务和功能隐私声明》及《Cookie声明》")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,null,{default:o(()=>[d("div",ne,[e(y,{type:"primary",onClick:t[9]||(t[9]=l=>k(_.value))},{default:o(()=>[n("立即提交")]),_:1})])]),_:1})]),_:1},8,["model"])])])}}}),Ye=re(ue,[["__scopeId","data-v-4e5ba725"]]);export{Ye as default};
