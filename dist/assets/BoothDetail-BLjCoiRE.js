import{d as T,l as w,o as m,b as B,O as l,Q as i,R as e,i as a,P as r,h,W as f,F as E,a6 as N,Z as P,_ as D}from"./index-BCumuH2l.js";import{E as R}from"./el-image-viewer-CHpRcp5m.js";import{E as V,a as $}from"./el-table-column-BOkQkY76.js";import"./el-checkbox-CCbI2xFo.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-popper-DuA7pbMX.js";import"./el-scrollbar-DYhKSyot.js";/* empty css                  */import"./el-tag-BkIRG4gH.js";import{b as k}from"./index-t0RjoPPn.js";import{_ as z}from"./UpInvoice.vue_vue_type_script_setup_true_lang-DwJxcpkc.js";import{_ as A}from"./ApplyInvoice.vue_vue_type_script_setup_true_lang-qohiMbUO.js";/* empty css                   *//* empty css                       *//* empty css                 *//* empty css                   */import{a as v}from"./request--qZdk5mN.js";import{E as F}from"./index-D3W99q7A.js";import{E as M}from"./index-CGEPfdHm.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BNMC9-9K.js";import"./index-x58V2ps9.js";import"./use-form-item-DPxtBdX-.js";import"./event-BB_Ol6Sd.js";import"./scroll-DEYraRnD.js";import"./_Uint8Array-CjJrf9_z.js";import"./_initCloneObject-B8PdS-lA.js";import"./isArrayLikeObject-Y-BCkoqb.js";import"./isEqual-Du7s0shl.js";import"./el-progress-BYlrxkw4.js";import"./cloneDeep-DaR3SEY2.js";import"./_baseClone-7GzUapHy.js";import"./index-zwJVtKDU.js";import"./index-OHwu8Osq.js";import"./el-dialog-Cr31W0vf.js";import"./index-BBCR1adM.js";import"./vnode-DjHHQFRY.js";import"./refs-DC4vuWkM.js";/* empty css                     *//* empty css                 */import"./index-KsNwzYtN.js";import"./castArray--BTnThqL.js";import"./index-C93lHvfN.js";import"./aria-KgdLjl5h.js";import"./validator-C_mxy1pJ.js";const _=c=>(P("data-v-03bb6493"),c=c(),D(),c),j=_(()=>l("div",null,"详情",-1)),q=_(()=>l("div",{class:"title"},"展位订单",-1)),O={class:"info"},Q={class:"table"},W=_(()=>l("div",{class:"title"},"到款详情",-1)),X={class:"table"},Z=_(()=>l("div",{class:"title"},"发票详情",-1)),G={class:"table"},H=T({__name:"BoothDetail",setup(c){const x=N(),S=w(x.query.id),y=w(null),p=w({brand:[],payment:[],invoice:[]}),u=()=>{k.getDetail({id:S.value}).then(d=>{d.code===0?p.value=d.data:v.error(d.msg)})},C=d=>{F.confirm("是否确认要撤销订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{k.revoke({id:d}).then(s=>{s.code===0?(v.success("撤销成功"),u()):v.error(s.msg)})}).catch(()=>{})};return u(),(d,s)=>{const t=V,n=M,b=$,g=R;return m(),B(E,null,[l("div",null,[j,l("div",null,[q,l("div",O,[l("span",null,"订单编号："+i(p.value.orderCode),1),l("span",null,"企业名称："+i(p.value.exhibitorName),1),l("span",null,"参展品牌："+i(p.value.brand.join(",")),1),l("span",null,"订单状态："+i(p.value.orderStatus),1),l("span",null,"订单生成时间："+i(p.value.orderTime),1),l("span",null,"下单人："+i(p.value.authUser),1),l("span",null,"对应销售："+i(p.value.clueUser),1)]),l("div",Q,[e(b,{data:[p.value],border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:a(()=>[e(t,{prop:"exhibitionName",label:"项目名称","min-width":"120"}),e(t,{prop:"hallCode",label:"展馆号"}),e(t,{prop:"positionCode",label:"展位号"}),e(t,{prop:"area",label:"面积"}),e(t,{prop:"length",label:"展位尺寸","min-width":"120"},{default:a(o=>[r(i(o.row.length)+" X "+i(o.row.width),1)]),_:1}),e(t,{prop:"num",label:"展位数量","min-width":"120"}),e(t,{prop:"product",label:"产品名称","min-width":"120"}),e(t,{prop:"unitPrice",label:"单价"}),e(t,{prop:"orderPrice",label:"订单金额","min-width":"120"}),e(t,{prop:"contractStatus",label:"合同状态","min-width":"120"},{default:a(o=>[r(i(["未签约","已签约","已回执"][o.row.contractStatus]),1)]),_:1}),e(t,{prop:"payStatus",label:"付款状态","min-width":"120"},{default:a(o=>[r(i(["未付款","部分付款","已付款"][o.row.payStatus]),1)]),_:1}),e(t,{prop:"receivedPrice",label:"到款金额","min-width":"120"}),e(t,{prop:"notReceivedPrice",label:"未到金额","min-width":"120"}),e(t,{prop:"invoiceStatus",label:"发票状态","min-width":"120"},{default:a(o=>[r(i(["未申请","待开票","部分开票","已开票"][o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:a(o=>[p.value.orderStatus===1?(m(),h(n,{key:0,link:"",type:"primary",onClick:s[0]||(s[0]=I=>C(p.value.id))},{default:a(()=>[r("撤销")]),_:1})):p.value.orderStatus===0?(m(),h(n,{key:1,link:"",type:"",disabled:""},{default:a(()=>[r("已撤销")]),_:1})):f("",!0)]),_:1})]),_:1},8,["data"])]),W,l("div",X,[e(b,{data:p.value.payment,border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:a(()=>[e(t,{prop:"code",label:"录款编号","min-width":"120"}),e(t,{prop:"payCompany",label:"付款公司","min-width":"120"}),e(t,{prop:"payType",label:"到款类型","min-width":"120"},{default:a(o=>[r(i({1:"预定金",2:"首款",3:"二次款",4:"尾款",5:"转款"}[o.row.payType]),1)]),_:1}),e(t,{prop:"payPrice",label:"到款金额","min-width":"120"}),e(t,{prop:"payType",label:"付款方式","min-width":"120"},{default:a(o=>[r(i({1:"全款",2:"分期"}[o.row.payType]),1)]),_:1}),e(t,{prop:"payTime",label:"到款时间","min-width":"120"}),e(t,{prop:"receiveAccount",label:"收款账户","min-width":"120"}),e(t,{prop:"payImg",label:"付款凭证","min-width":"120"},{default:a(o=>[o.row.payImg?(m(),h(g,{key:0,style:{width:"30px",height:"30px"},src:o.row.payImg,"preview-src-list":[o.row.payImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):f("",!0)]),_:1}),e(t,{prop:"receiveImg",label:"到款凭证","min-width":"120"},{default:a(o=>[o.row.receiveImg?(m(),h(g,{key:0,style:{width:"30px",height:"30px"},src:o.row.receiveImg,"preview-src-list":[o.row.receiveImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):f("",!0)]),_:1}),e(t,{prop:"invoiceStatus",label:"发票状态","min-width":"120"},{default:a(o=>[r(i({0:"未申请",1:"待开票",2:"部分开票",3:"已开票"}[o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:a(o=>[e(n,{link:"",type:"primary"},{default:a(()=>[r("编辑")]),_:1}),e(n,{link:"",type:"primary",onClick:I=>y.value.setApply(o.row)},{default:a(()=>[r("申请发票")]),_:2},1032,["onClick"]),e(n,{link:"",type:"primary"},{default:a(()=>[r("删除")]),_:1})]),_:1})]),_:1},8,["data"])]),Z,l("div",G,[e(b,{data:p.value.invoice,border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:a(()=>[e(t,{prop:"code",label:"编号"}),e(t,{prop:"title",label:"发票抬头","min-width":"120"}),e(t,{prop:"socialCode",label:"社会信用代码","min-width":"120"}),e(t,{prop:"price",label:"开票金额","min-width":"120"}),e(t,{prop:"invoiceType",label:"发票类型","min-width":"120"},{default:a(o=>[r(i({1:"电子专票",2:"电子普票"}[o.row.invoiceType]),1)]),_:1}),e(t,{prop:"contact",label:"联系人"}),e(t,{prop:"email",label:"发送邮箱","min-width":"120"}),e(t,{prop:"invoiceStatus",label:"开票状态","min-width":"120"},{default:a(o=>[r(i({0:"未申请",1:"待开票",2:"已开票"}[o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"invoiceCode",label:"发票号"}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:a(o=>[e(z,{id:o.row.id,onCallback:u},null,8,["id"]),e(n,{link:"",type:"primary"},{default:a(()=>[r("编辑")]),_:1}),e(n,{link:"",type:"primary"},{default:a(()=>[r("删除")]),_:1})]),_:1})]),_:1},8,["data"])])])]),e(A,{ref_key:"applyInvoiceRef",ref:y,onCallback:u},null,512)],64)}}}),je=U(H,[["__scopeId","data-v-03bb6493"]]);export{je as default};
