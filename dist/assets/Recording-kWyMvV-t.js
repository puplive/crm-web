import{d as h,s as B,O as R,o as S,f as T,P as s,S as e,w as l,Q as m,F as q,Z as D,a7 as L,_ as N,$ as M}from"./index-DuO5qCOl.js";import{E as O,a as $}from"./el-form-item-Cu1KkJ1t.js";import{E as z}from"./el-row-9c7d3kYA.js";import{E as Q}from"./el-col-DIVg5wKT.js";import{E as Z}from"./el-progress-BDxTyWsC.js";import{E as j}from"./el-image-viewer-Da-7Uuzg.js";import{E as A}from"./el-date-picker-Dw4c8SOj.js";/* empty css                 */import"./el-scrollbar-vJTALLEq.js";import"./el-popper-BHkirKhh.js";import"./el-button-BF6LotWW.js";import"./el-tag-D6qwnJNq.js";import{a as G,E as H}from"./el-select-CbMMSZu0.js";import{p as J}from"./index-CuXiYiwa.js";import{u as K}from"./index-VRFfocTI.js";/* empty css                   */import{a as g}from"./request-BhcMgum5.js";import{E as W}from"./index-DsHhOPYe.js";import{E as X}from"./index-D0AcFqj2.js";import{E as Y}from"./index-00qRAo0A.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./castArray-BQFRVikh.js";import"./_baseClone-CDORlhWC.js";import"./_initCloneObject-f8GnqyNx.js";import"./cloneDeep-wyYb54UJ.js";import"./isEqual-BLHZt2FS.js";import"./scroll-Cg5HvfrT.js";import"./arrays-6TrVLtTe.js";import"./index-h4HhQDM3.js";import"./event-BB_Ol6Sd.js";const le=c=>(N("data-v-ff993c50"),c=c(),M(),c),oe=le(()=>s("div",{style:{"margin-bottom":"20px"}}," 录入到款信息 ",-1)),te={style:{"margin-bottom":"10px"}},ae={style:{"text-align":"center"}},ie={class:"image-slot"},ne={style:{"text-align":"center"}},se={class:"image-slot"},re={style:{"text-align":"center"}},de={class:"image-slot"},me={style:{"text-align":"center","margin-top":"30px"}},ue=h({__name:"Recording",setup(c){const I=D(),U=L(),o=B({orderId:U.query.id,invoice:{}}),f=r=>r.size/1024/1024>3?(g.error("文件大小不能超过 3MB!"),!1):!0,_=r=>{let t=new FormData;return t.append("upload",r.file),new Promise((d,n)=>{K(t).then(i=>{i.code===0?d(i.data):n(i)})})},C=()=>{J.add(o).then(r=>{r.code===0?(g.success("保存成功"),I.back()):g.error(r.msg)})};return(r,t)=>{const d=W,n=X,i=O,u=G,k=H,F=A,v=R("Picture"),V=Y,y=j,b=Z,p=Q,E=z,P=$;return S(),T(q,null,[oe,s("div",te,[e(d,{link:"",type:"primary",onClick:t[0]||(t[0]=()=>{})},{default:l(()=>[m("查看合同")]),_:1})]),s("div",null,[e(P,{data:o,"label-width":"auto"},{default:l(()=>[e(E,{gutter:20},{default:l(()=>[e(p,{span:12},{default:l(()=>[e(i,{label:"付款公司"},{default:l(()=>[e(n,{modelValue:o.payCompany,"onUpdate:modelValue":t[1]||(t[1]=a=>o.payCompany=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"到款类型"},{default:l(()=>[e(k,{modelValue:o.payType,"onUpdate:modelValue":t[2]||(t[2]=a=>o.payType=a)},{default:l(()=>[e(u,{label:"预定金",value:"1"}),e(u,{label:"首款",value:"2"}),e(u,{label:"二次款",value:"3"}),e(u,{label:"尾款",value:"4"}),e(u,{label:"转款",value:"5"})]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"到款金额"},{default:l(()=>[e(n,{modelValue:o.payPrice,"onUpdate:modelValue":t[3]||(t[3]=a=>o.payPrice=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"到款时间"},{default:l(()=>[e(F,{modelValue:o.payTime,"onUpdate:modelValue":t[4]||(t[4]=a=>o.payTime=a),type:"date",placeholder:"",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(i,{label:"收款账户"},{default:l(()=>[e(n,{modelValue:o.account,"onUpdate:modelValue":t[5]||(t[5]=a=>o.account=a)},null,8,["modelValue"])]),_:1}),e(E,null,{default:l(()=>[e(p,{span:12},{default:l(()=>[e(i,{label:"付款凭证"},{default:l(()=>[s("div",ae,[e(y,{src:o.payImg,"preview-src-list":[o.payImg],fit:"contain",style:{width:"100px",height:"100px","margin-bottom":"10px"}},{error:l(()=>[s("div",ie,[e(V,null,{default:l(()=>[e(v)]),_:1})])]),_:1},8,["src","preview-src-list"]),e(b,{class:"","show-file-list":!1,"on-success":(a,w,x)=>{o.payImg=a.url},"before-upload":f,"http-request":_},{default:l(()=>[e(d,{type:"primary"},{default:l(()=>[m("上传文件")]),_:1})]),_:1},8,["on-success"])])]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"到款凭证"},{default:l(()=>[s("div",ne,[e(y,{src:o.receiveImg,"preview-src-list":[o.receiveImg],fit:"contain",style:{width:"100px",height:"100px","margin-bottom":"10px"}},{error:l(()=>[s("div",se,[e(V,null,{default:l(()=>[e(v)]),_:1})])]),_:1},8,["src","preview-src-list"]),e(b,{class:"","show-file-list":!1,"on-success":(a,w,x)=>{o.receiveImg=a.url},"before-upload":f,"http-request":_},{default:l(()=>[e(d,{type:"primary"},{default:l(()=>[m("上传文件")]),_:1})]),_:1},8,["on-success"])])]),_:1})]),_:1})]),_:1})]),_:1}),e(p,{span:12},{default:l(()=>[e(i,{label:"发票抬头"},{default:l(()=>[e(n,{modelValue:o.invoice.title,"onUpdate:modelValue":t[6]||(t[6]=a=>o.invoice.title=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"社会信用代码"},{default:l(()=>[e(n,{modelValue:o.invoice.socialCode,"onUpdate:modelValue":t[7]||(t[7]=a=>o.invoice.socialCode=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"联系人"},{default:l(()=>[e(n,{modelValue:o.invoice.contact,"onUpdate:modelValue":t[8]||(t[8]=a=>o.invoice.contact=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"手机号"},{default:l(()=>[e(n,{modelValue:o.invoice.phone,"onUpdate:modelValue":t[9]||(t[9]=a=>o.invoice.phone=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"发送邮箱"},{default:l(()=>[e(n,{modelValue:o.invoice.email,"onUpdate:modelValue":t[10]||(t[10]=a=>o.invoice.email=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"发票类型"},{default:l(()=>[e(n,{modelValue:o.invoice.type,"onUpdate:modelValue":t[11]||(t[11]=a=>o.invoice.type=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"开票状态"},{default:l(()=>[e(n,{modelValue:o.invoice.status,"onUpdate:modelValue":t[12]||(t[12]=a=>o.invoice.status=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"发票号"},{default:l(()=>[e(n,{modelValue:o.invoice.invoiceCode,"onUpdate:modelValue":t[13]||(t[13]=a=>o.invoice.invoiceCode=a)},null,8,["modelValue"])]),_:1}),e(i,{label:"发票附件"},{default:l(()=>[s("div",re,[e(y,{src:o.invoice.img,"preview-src-list":[o.invoice.img],fit:"contain",style:{width:"100px",height:"100px","margin-bottom":"10px"}},{error:l(()=>[s("div",de,[e(V,null,{default:l(()=>[e(v)]),_:1})])]),_:1},8,["src","preview-src-list"]),e(b,{class:"","show-file-list":!1,"on-success":(a,w,x)=>{o.invoice.img=a.url},"before-upload":f,"http-request":_},{default:l(()=>[e(d,{type:"primary"},{default:l(()=>[m("上传文件")]),_:1})]),_:1},8,["on-success"])])]),_:1})]),_:1}),e(p,{span:24},{default:l(()=>[e(i,{label:"备注"},{default:l(()=>[e(n,{type:"textarea",modelValue:o.remark,"onUpdate:modelValue":t[14]||(t[14]=a=>o.remark=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),s("div",me,[e(d,{type:"primary",onClick:C},{default:l(()=>[m("保存")]),_:1}),e(d,{onClick:r.$router.back},{default:l(()=>[m("取消")]),_:1},8,["onClick"])])]),_:1},8,["data"])])],64)}}}),ze=ee(ue,[["__scopeId","data-v-ff993c50"]]);export{ze as default};
