import{d as D,s as G,l as r,o as I,f as L,P as g,S as e,w as t,Q as s,R as M,F as Z}from"./index-DGy8YaiM.js";import{E as $}from"./el-dialog-DHh5pbtB.js";import"./el-overlay-BKhi8GxI.js";import{a as j,E as O,b as Q}from"./el-input-BrZoxqCi.js";import"./el-tag-BH7nPyvM.js";import{a as q,E as A}from"./el-select-D6u5iXFb.js";import"./el-scrollbar-Dv4Quh1c.js";import{E as H,a as J}from"./el-radio-BXvHkyqA.js";import{E as K}from"./el-pagination-DQsYawbM.js";import{E as W,a as X}from"./el-table-ChIpBGPs.js";import"./el-checkbox-3VMAPkI5.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                        */import{E as Y}from"./el-button-Bovxw4wD.js";import{T as ee}from"./index-CH3SuMPH.js";import{a as v}from"./index-xHqj9K7m.js";/* empty css                   */import{E as le}from"./el-message-box-CL97Cg8T.js";import{E as p}from"./request-BAaZbgW9.js";import"./index-BqYhbl5u.js";import"./scroll-cHXkFjnP.js";import"./vnode-CZsncPWw.js";import"./typescript-CKMpzsq3.js";import"./_initCloneObject-kgg4kgWv.js";import"./isEqual-C3CT6KsK.js";import"./isArrayLikeObject-C8yChd3w.js";import"./el-date-picker-Dwy-ARkN.js";import"./arrays-6TrVLtTe.js";/* empty css                          */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./aria-KgdLjl5h.js";import"./validator-glxezYYN.js";const ae={class:"s-table-operations"},te={class:"s-table-pagination"},oe={style:{"font-size":"16px","font-weight":"bold"}},ne={class:"dialog-footer"},Me=D({__name:"Shared",setup(ie){const u=G({page:1,perPage:10}),V=r(0),E=r({}),w=r([]),b=r(null),h=r([]),C=n=>{E.value=n,u.page=1,d()},d=async()=>{v.getList({status:3,...u,...E.value}).then(n=>{n.code!==200&&(w.value=n.data.data,V.value=n.data.total)})},o=r({}),f=r(!1),S=n=>{o.value=n,f.value=!0},U=()=>{f.value=!1},k=()=>{let n=b.value.getSelectionRows().map(l=>l.id);if(n.length===0){p.warning("请选择需要领取的线索");return}v.getClues({id:n}).then(l=>{l.code===0?(p.success("领取成功"),d()):p.error(l.msg)})},z=()=>{let n=b.value.getSelectionRows().map(l=>l.id);if(n.length===0){p.warning("请选择需要删除的线索");return}le.confirm("确定删除所选线索？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{v.del({id:n}).then(l=>{l.code===0?(p.success("删除成功"),d()):p.error(l.msg)})}).catch(()=>{})};return v.getSearchField().then(n=>{n.code===0&&(h.value=n.data)}),d(),(n,l)=>{const c=Y,i=W,T=X,B=K,m=j,y=H,F=J,_=O,x=q,P=A,R=Q,N=$;return I(),L(Z,null,[g("div",null,[e(ee,{data:h.value,onSearch:C},null,8,["data"]),g("div",ae,[e(c,{size:"small",onClick:k},{default:t(()=>[s("领取")]),_:1}),e(c,{size:"small",onClick:z},{default:t(()=>[s("删除")]),_:1})]),e(T,{ref_key:"tableRef",ref:b,data:w.value,border:"","table-layout":"fixed","max-height":"300","header-row-class-name":"s-table-header"},{default:t(()=>[e(i,{type:"selection",width:"50"}),e(i,{prop:"companyName",label:"公司名称",width:"180"}),e(i,{prop:"exhibitionContact",label:"联系方式",width:"180"}),e(i,{prop:"duties",label:"职务"}),e(i,{prop:"phone",label:"电话"}),e(i,{prop:"recordTime",label:"记录时间",width:"180"}),e(i,{prop:"recordText",label:"记录内容"}),e(i,{prop:"authUser",label:"授权人"}),e(i,{fixed:"right",label:"操作",width:"120"},{default:t(a=>[e(c,{link:"",type:"primary",size:"small",onClick:me=>S(a.row)},{default:t(()=>[s(" 领取 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),g("div",te,[e(B,{layout:"total, sizes, prev, pager, next","page-sizes":[10,20,50],total:V.value,"current-page":u.page,"onUpdate:currentPage":l[0]||(l[0]=a=>u.page=a),"page-size":u.perPage,"onUpdate:pageSize":l[1]||(l[1]=a=>u.perPage=a),onChange:d},null,8,["total","current-page","page-size"])])]),e(N,{modelValue:f.value,"onUpdate:modelValue":l[10]||(l[10]=a=>f.value=a),title:"转为意向",width:"500",draggable:""},{footer:t(()=>[g("div",ne,[e(c,{onClick:l[9]||(l[9]=a=>f.value=!1)},{default:t(()=>[s("取消")]),_:1}),e(c,{type:"primary",onClick:U},{default:t(()=>[s("确定")]),_:1})])]),default:t(()=>[e(R,{model:o.value,"label-width":"auto"},{default:t(()=>[e(m,{label:" ",style:{"margin-bottom":"0"}},{default:t(()=>[g("span",oe,M(o.value.name),1)]),_:1}),e(m,{label:" "},{default:t(()=>[e(F,{modelValue:o.value.type,"onUpdate:modelValue":l[2]||(l[2]=a=>o.value.type=a)},{default:t(()=>[e(y,{value:"1"},{default:t(()=>[s("新增账号")]),_:1}),e(y,{value:"2"},{default:t(()=>[s("关联账号")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"用户名"},{default:t(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":l[3]||(l[3]=a=>o.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"注册人"},{default:t(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":l[4]||(l[4]=a=>o.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"手机"},{default:t(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":l[5]||(l[5]=a=>o.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"邮箱"},{default:t(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":l[6]||(l[6]=a=>o.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"密码"},{default:t(()=>[e(_,{modelValue:o.value.name,"onUpdate:modelValue":l[7]||(l[7]=a=>o.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(m,{label:"项目"},{default:t(()=>[e(P,{modelValue:o.value.region,"onUpdate:modelValue":l[8]||(l[8]=a=>o.value.region=a),placeholder:"Please select a zone"},{default:t(()=>[e(x,{label:"Zone No.1",value:"shanghai"}),e(x,{label:"Zone No.2",value:"beijing"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});export{Me as default};
