import{d as J,t as P,c as k,b as h,X as t,Z as d,e as E,J as T,a1 as q,$ as e,i as n,a5 as I,am as R,a7 as g,o as y,Y as i,a2 as F,a3 as j}from"./index-B35sW-aj.js";import{E as D}from"./button-DjNKuFKs.js";/* empty css                    */import{E as G,a as L}from"./radio-QjKCIhLE.js";/* empty css              */import{E as M}from"./input-number-DHmgSHk8.js";import{a as W,E as X}from"./table-column-mknPiwPB.js";import"./checkbox-sIbdl2aD.js";/* empty css                */import"./popper-BBb83dzG.js";import"./scrollbar-C2oBSu3r.js";import"./tag-B1SDh5lN.js";import{b as Y}from"./index-DHs4HuP6.js";/* empty css                */import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-CR1DnBFV.js";import"./event-BB_Ol6Sd.js";import"./index-DDqT4Lzm.js";import"./index-DL9kizoD.js";import"./_initCloneObject-B44hSgFU.js";import"./isEqual-B_2UcdhL.js";import"./focus-trap-Dbp5ay4M.js";const c=m=>(F("data-v-24609e4a"),m=m(),j(),m),$={class:"create-order"},z={class:"p1"},A=c(()=>t("div",{class:"p2"},"展位清单",-1)),H={class:"p3"},K={class:"p4"},Q=c(()=>t("span",null,"预定金",-1)),ee=c(()=>t("span",null,"元",-1)),ae=c(()=>t("span",{style:{margin:"0 10px 0 40px"}},"是否冲抵展位费",-1)),oe=c(()=>t("span",{style:{"margin-left":"10px"}},"%",-1)),te={style:{"text-align":"center",padding:"20px"}},le=J({__name:"CreateOrder",setup(m){const b=I(),_=R(),O=_.query.companyName,u=P({});u.value=JSON.parse(_.query.data);const S={1:"%",2:"￥"},v=a=>{let s=[];return a.forEach(l=>{let r=JSON.parse(l);s.push(r.price+S[r.unit])}),s.join("，")},C=k(()=>a=>{let s=a.finalPrice;return a.isOffset===1&&(s=s-a.deposit),a.payType===2?s=s*a.ratio/100:a.ratio=0,s<0?0:Number(s.toFixed(2))}),U=()=>{let a=JSON.parse(JSON.stringify(u.value)),s=a.add.map(r=>JSON.parse(r)),l=a.discount.map(r=>JSON.parse(r));a.add=s,a.discount=l,Y.create(a).then(r=>{r.code===0?(g.success("提交成功"),b.push({name:"Will"})):g.error(r.msg)})},w=()=>{b.push({name:"BoothReserve",query:{..._.query}})};return(a,s)=>{const l=W,r=X,x=M,f=G,V=L,N=D;return y(),h("div",$,[t("div",z,d(E(_).query.exhibitionName),1),A,(y(!0),h(T,null,q(u.value.position,(o,B)=>(y(),h("div",{key:B,class:"item"},[e(r,{data:[o],border:""},{default:n(()=>[e(l,{prop:"name",label:"企业名称","min-width":"120"},{default:n(p=>[i(d(E(O)),1)]),_:1}),e(l,{prop:"companyBrand",label:"参展品牌","min-width":"120"}),e(l,{prop:"hallCode",label:"展馆号"}),e(l,{prop:"positionCode",label:"展位号"}),e(l,{prop:"product",label:"产品名称","min-width":"120"}),e(l,{prop:"unitPrice",label:"单价"}),e(l,{prop:"area",label:"面积"}),e(l,{prop:"discount",label:"折扣"},{default:n(p=>[i(d(v(u.value.discount)),1)]),_:1}),e(l,{prop:"add",label:"加收"},{default:n(p=>[i(d(v(u.value.add)),1)]),_:1})]),_:2},1032,["data"]),t("div",H,[t("span",null,"订单原价："+d(o.costPrice),1),t("span",null,"最终金额："+d(o.finalPrice),1),t("span",null,"待支付金额："+d(C.value(o)),1),t("span",null,"优惠金额："+d(o.discountPrice),1),t("span",null,"加收金额："+d(o.addPrice),1)]),t("div",K,[Q,e(x,{modelValue:o.deposit,"onUpdate:modelValue":p=>o.deposit=p,placeholder:"请输入金额",min:0,controls:!1,style:{width:"120px",margin:"0 10px 0 10px"}},null,8,["modelValue","onUpdate:modelValue"]),ee,ae,e(V,{modelValue:o.isOffset,"onUpdate:modelValue":p=>o.isOffset=p},{default:n(()=>[e(f,{value:1},{default:n(()=>[i("是")]),_:1}),e(f,{value:2},{default:n(()=>[i("否")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(V,{modelValue:o.payType,"onUpdate:modelValue":p=>o.payType=p,style:{margin:"0 10px 0 40px"}},{default:n(()=>[e(f,{value:1},{default:n(()=>[i("全款")]),_:1}),e(f,{value:2},{default:n(()=>[i("分期")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),e(x,{modelValue:o.ratio,"onUpdate:modelValue":p=>o.ratio=p,"value-on-clear":0,placeholder:"分期比例",min:0,max:100,controls:!1,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),oe])]))),128)),t("div",te,[e(N,{type:"primary",onClick:U},{default:n(()=>[i("提交订单")]),_:1}),e(N,{type:"",onClick:w},{default:n(()=>[i("返回")]),_:1})])])}}}),Ce=Z(le,[["__scopeId","data-v-24609e4a"]]);export{Ce as default};
