import{d as z,s as E,l as n,o as P,f as R,P as c,S as e,w as a,Q as i,R as d,F as S}from"./index-z1lnycFL.js";import{E as x}from"./el-pagination-CW_cfzOp.js";/* empty css                 */import"./el-tag-YLIfQqcE.js";import"./el-select-xgJ2gGrg.js";import"./el-scrollbar-D-pOLxMj.js";import"./el-popper-B7J-cV2H.js";import{E as $,a as B}from"./el-table-column-C-rYy-n-.js";import"./el-checkbox-B2gCYMrl.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-button-C93tUob9.js";import{E as T}from"./el-link-CRv54Djn.js";import{T as D}from"./index-DqO2zilj.js";import{_ as F}from"./ApplyInvoice.vue_vue_type_script_setup_true_lang-DTiBvUem.js";import{a as N}from"./index-P8l7gLhc.js";/* empty css                   *//* empty css                       *//* empty css                   */import{E as L}from"./index-BzXKYKgM.js";import"./index-5pYrHxHw.js";import"./isEqual-BbYM-4Ba.js";import"./_initCloneObject-DYOGIJrZ.js";import"./index-BkWBfb-P.js";import"./event-BB_Ol6Sd.js";import"./request-aXdAhXIg.js";import"./scroll-BCz3Esio.js";import"./castArray-C_8BC8pz.js";import"./isArrayLikeObject-CB844vlx.js";import"./el-form-item-CEpn_uB5.js";import"./_baseClone-08HETTmO.js";import"./el-date-picker-vu-zh8Du.js";import"./arrays-6TrVLtTe.js";import"./index-wyD990z0.js";import"./el-radio-mLjZ-LRc.js";/* empty css                          */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./el-dialog-DLgRERcb.js";import"./index-xYMOok71.js";import"./vnode-Dbe6RxbW.js";import"./refs-Drwk4c_1.js";import"./el-progress-BLUp0W5A.js";import"./cloneDeep-C4zCkx7j.js";import"./index-7kguwBA1.js";const U={class:"s-flex-col",style:{height:"100%"}},V=c("div",null,null,-1),q={class:"s-flex-auto",style:{"min-height":"0"}},I={class:"s-table-pagination"},Be=z({__name:"Order",setup(O){const p=E({page:1,perPage:10}),u=n(0),f=n({}),_=n([]),h=n(null),y=n([]),b=n(null),v=r=>{f.value=r,p.page=1,m()},m=async()=>{N.order.getList({...f.value,...p}).then(r=>{r.code===0&&(_.value=r.data.data,u.value=r.data.total)})};return m(),(r,l)=>{const t=$,k=T,s=L,w=B,C=x;return P(),R(S,null,[c("div",U,[V,e(D,{data:y.value,onSearch:v},null,8,["data"]),c("div",q,[e(w,{ref_key:"tableRef",ref:h,data:_.value,border:"","table-layout":"fixed",height:"100%","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:a(()=>[e(t,{type:"selection",width:"42"}),e(t,{prop:"orderCode",label:"订单编号",width:"200"}),e(t,{prop:"companyName",label:"企业名称","min-width":"120"}),e(t,{prop:"hallCode",label:"展位号"}),e(t,{prop:"brand",label:"参展品牌","min-width":"120"}),e(t,{prop:"area",label:"面积"}),e(t,{prop:"num",label:"展位数"}),e(t,{prop:"orderPrice",label:"订单金额","min-width":"120"}),e(t,{prop:"contractStatus",label:"合同状态","min-width":"120"},{default:a(o=>[i(d(["未签订","已签订","已回执"][o.row.contractStatus]),1)]),_:1}),e(t,{prop:"contractReceipt",label:"合同附件","min-width":"120"},{default:a(o=>[e(k,{href:o.row.contractReceipt,target:"_blank"},{default:a(()=>[i(d(o.row.contractReceipt),1)]),_:2},1032,["href"])]),_:1}),e(t,{prop:"deposit",label:"定金"}),e(t,{prop:"receivedPrice",label:"已收"}),e(t,{prop:"unknownPrice",label:"未收款"}),e(t,{prop:"invoiceStatus",label:"发票"},{default:a(o=>[i(d(["未申请","待开票","部分开票","已开票"][o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"clueUser",label:"持有人"}),e(t,{fixed:"right",label:"操作",width:"250"},{default:a(o=>[e(s,{link:"",type:"primary",size:"small",onClick:g=>r.$router.push({name:"OrderBoothDetail",query:{id:o.row.id}})},{default:a(()=>[i("详情")]),_:2},1032,["onClick"]),e(s,{link:"",type:"primary",size:"small",onClick:g=>b.value.setApplay(o.row)},{default:a(()=>[i("申请发票")]),_:2},1032,["onClick"]),e(s,{link:"",type:"primary",size:"small",onClick:g=>r.$router.push({name:"FinancesRecording",query:{id:o.row.id}})},{default:a(()=>[i("录入到款")]),_:2},1032,["onClick"]),e(s,{link:"",type:"primary",size:"small",onClick:l[0]||(l[0]=()=>{})},{default:a(()=>[i("撤销")]),_:1}),e(s,{link:"",type:"primary",size:"small",onClick:l[1]||(l[1]=()=>{})},{default:a(()=>[i("下推")]),_:1})]),_:1})]),_:1},8,["data"])]),c("div",I,[e(C,{layout:"total, sizes, prev, pager, next","page-sizes":[10,20,50],total:u.value,"current-page":p.page,"onUpdate:currentPage":l[2]||(l[2]=o=>p.page=o),"page-size":p.perPage,"onUpdate:pageSize":l[3]||(l[3]=o=>p.perPage=o),onChange:m},null,8,["total","current-page","page-size"])])]),e(F,{ref_key:"applyInvoiceRef",ref:b,onCallback:m},null,512)],64)}}});export{Be as default};
