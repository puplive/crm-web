import{d as $,l as u,o as v,b as R,O as a,R as e,i,P as r,Q as l,h as C,W as x,F as D,Y as N,a6 as V,Z as A,_ as q}from"./index-CtnNdf6I.js";import{E as z,a as F}from"./el-table-column-DHpIfOkA.js";import"./el-checkbox-C2MQbk-S.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-popper-SAL9BUsy.js";import"./el-scrollbar-Dw8Ar6kz.js";import{E as M}from"./el-image-viewer-DJbOienN.js";import"./el-tag-KEahQFCf.js";/* empty css                  */import{a as h}from"./index-D_n6cQhx.js";import{a as _}from"./request-DHQWaQl0.js";import{_ as L,a as O}from"./EditPayment.vue_vue_type_script_setup_true_lang-CbDUDL4E.js";/* empty css                       *//* empty css                 *//* empty css                   *//* empty css                   */import{E as I}from"./index-Dvqc6v-z.js";import{E as Q}from"./index-PIZdvO1Z.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-BN_RNhUa.js";import"./_Uint8Array-BOmxGtCQ.js";import"./index-Byn9vuEU.js";import"./_initCloneObject-cQg_1Bx8.js";import"./isArrayLikeObject-BxEywAV2.js";import"./event-BB_Ol6Sd.js";import"./isEqual-DgFD6c0N.js";import"./index-CjOWhDaN.js";import"./scroll-BvKGa0_I.js";import"./el-dialog-DEJ9dVvg.js";import"./index-Bv0E6nsW.js";import"./vnode-gJ_8xiR2.js";import"./refs-ciGNFZLD.js";/* empty css                     */import"./index-qc8ItvZn.js";import"./castArray-BV9SS4mm.js";import"./_baseClone-CuiIdAb9.js";import"./el-row-CSw3K5cu.js";import"./el-col-BpxPCBCU.js";import"./el-progress-D_X_92wx.js";import"./cloneDeep-o7KqRFGl.js";/* empty css                       */import"./el-select-DnOT36de.js";import"./index-BtD7h2aH.js";import"./index-CYJzgcAt.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./arrays-6TrVLtTe.js";import"./index-DgBTPY3H.js";import"./aria-KgdLjl5h.js";import"./validator-DCjROIz4.js";const w=c=>(A("data-v-64e2d522"),c=c(),q(),c),Y={class:"recording"},Z={class:"top"},j=w(()=>a("span",{style:{"margin-right":"20px"}},"订单到款记录",-1)),G={class:"p2"},H=w(()=>a("div",{class:"title"},"收款记录",-1)),J={class:"table"},K=w(()=>a("div",{class:"title"},"发票详情",-1)),U={class:"table"},X=$({__name:"PaymentDetail",setup(c){const T=N(),E=V(),B=u(Number(E.query.id)),n=u({invoice:[]}),f=()=>{h.payment.getDetail({id:B.value}).then(p=>{p.code===0&&(n.value=p.data)})},P=p=>{I.confirm("确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{h.payment.del({id:p}).then(s=>{s.code===0?(_.success("删除成功"),T.back()):_.error(s.msg)})}).catch(()=>{})},S=p=>{I.confirm("确定删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{h.invoice.del({id:p}).then(s=>{s.code===0?(_.success("删除成功"),getList()):_.error(s.msg)})}).catch(()=>{})},y=u(null),b=u(null);return f(),(p,s)=>{const m=Q,o=z,g=M,k=F;return v(),R(D,null,[a("div",Y,[a("div",Z,[j,e(m,{onClick:p.$router.back},{default:i(()=>[r("返回")]),_:1},8,["onClick"])]),a("div",G,[e(m,{link:"",type:"primary",onClick:s[0]||(s[0]=t=>p.$router.push({name:"ContractDetail",query:{orderId:n.value.orderId}}))},{default:i(()=>[r("查看合同")]),_:1}),a("span",null,"订单编号："+l(n.value.orderCode),1),a("span",null,"展位号："+l(n.value.positionCode),1),a("span",null,"面积："+l(n.value.positionArea)+"平方米",1),a("span",null,"展位数："+l(n.value.positionNum)+"个",1),a("span",null,"订单金额："+l(n.value.orderPrice)+"元",1)]),a("div",null,[H,a("div",J,[e(k,{data:[n.value],border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[e(o,{prop:"code",label:"录款编号","min-width":"120"}),e(o,{prop:"payCompany",label:"付款公司","min-width":"120"}),e(o,{prop:"payType",label:"到款类型","min-width":"120"},{default:i(t=>[r(l({1:"预定金",2:"首款",3:"二次款",4:"尾款",5:"转款"}[t.row.payType]),1)]),_:1}),e(o,{prop:"payPrice",label:"到款金额","min-width":"120"}),e(o,{prop:"payType",label:"付款方式","min-width":"120"},{default:i(t=>[r(l({1:"全款",2:"分期"}[t.row.payType]),1)]),_:1}),e(o,{prop:"payTime",label:"到款时间","min-width":"120"}),e(o,{prop:"receiveAccount",label:"收款账户","min-width":"120"}),e(o,{prop:"payImg",label:"付款凭证","min-width":"120"},{default:i(t=>[t.row.payImg?(v(),C(g,{key:0,style:{width:"30px",height:"30px"},src:t.row.payImg,"preview-src-list":[t.row.payImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):x("",!0)]),_:1}),e(o,{prop:"receiveImg",label:"到款凭证","min-width":"120"},{default:i(t=>[t.row.receiveImg?(v(),C(g,{key:0,style:{width:"30px",height:"30px"},src:t.row.receiveImg,"preview-src-list":[t.row.receiveImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):x("",!0)]),_:1}),e(o,{prop:"invoiceStatus",label:"发票状态","min-width":"120"},{default:i(t=>[r(l({0:"未申请",1:"待开票",2:"部分开票",3:"已开票"}[t.row.invoiceStatus]),1)]),_:1}),e(o,{prop:"remark",label:"备注"}),e(o,{fixed:"right",label:"操作",width:"200"},{default:i(t=>[e(m,{link:"",type:"primary",onClick:()=>{let d={...t.row,account:t.row.receiveAccount};b.value.setEdit(d)}},{default:i(()=>[r("编辑")]),_:2},1032,["onClick"]),e(m,{link:"",type:"primary",onClick:d=>P(t.row.id)},{default:i(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),K,a("div",U,[e(k,{data:n.value.invoice,border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[e(o,{prop:"code",label:"编号"}),e(o,{prop:"invoiceTitle",label:"发票抬头","min-width":"120"}),e(o,{prop:"socialCode",label:"社会信用代码","min-width":"120"}),e(o,{prop:"invoicePrice",label:"开票金额","min-width":"120"}),e(o,{prop:"invoiceType",label:"发票类型","min-width":"120"},{default:i(t=>[r(l({1:"电子专票",2:"电子普票"}[t.row.invoiceType]),1)]),_:1}),e(o,{prop:"contact",label:"联系人"}),e(o,{prop:"email",label:"发送邮箱","min-width":"120"}),e(o,{prop:"invoiceStatus",label:"开票状态","min-width":"120"},{default:i(t=>[r(l({0:"未申请",1:"待开票",2:"已开票"}[t.row.invoiceStatus]),1)]),_:1}),e(o,{prop:"invoiceCode",label:"发票号"}),e(o,{prop:"remark",label:"备注"}),e(o,{fixed:"right",label:"操作",width:"200"},{default:i(t=>[e(m,{link:"",type:"primary",onClick:d=>y.value.setEdit(t.row)},{default:i(()=>[r("编辑")]),_:2},1032,["onClick"]),e(m,{link:"",type:"primary",onClick:d=>S(t.row.id)},{default:i(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])]),e(L,{ref_key:"editInvoiceRef",ref:y,onCallback:f},null,512),e(O,{ref_key:"editPaymentRef",ref:b,onCallback:f},null,512)],64)}}}),He=W(X,[["__scopeId","data-v-64e2d522"]]);export{He as default};
