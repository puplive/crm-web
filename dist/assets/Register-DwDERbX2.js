import{d as L,l as d,s as $,b as x,R as e,O as _,i as o,Y as T,o as b,F as A,U as G,h as O,P as p,Q as D,V as H,W as P}from"./index-CWRtPfdn.js";import{E as Q,a as W}from"./form-item-b5_8rHDA.js";/* empty css                       */import{E as Y,a as j}from"./checkbox-i5y_h5kz.js";import{E as z}from"./link-B7lbBEDf.js";import{E as J}from"./button-BkjgE-v2.js";/* empty css                    */import{E as K,a as X}from"./radio-D5duxiGm.js";import{E as Z}from"./row-CEzoltS9.js";/* empty css              */import"./tag-DF0Wtsjf.js";import{E as ee,a as oe}from"./select-D5amZi29.js";import"./scrollbar-CAcnGJxp.js";import"./popper-BTkOiFRD.js";import{E as le}from"./col-cX1H_zZz.js";import{v as te}from"./Header-Cfv2lePh.js";import{s as re,r as ae,a as se}from"./index-2vrv37KZ.js";/* empty css                */import{c}from"./request-DRmFaSUF.js";import{E as me}from"./index-CBL4HN_f.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-form-item-D-ZaM-KB.js";import"./castArray-CEK3b0Lo.js";import"./_baseClone-BEwQFDmw.js";import"./_initCloneObject-DqCTTA6F.js";import"./event-BB_Ol6Sd.js";import"./isEqual-DP1SEmiB.js";import"./scroll-CTyKmr5X.js";import"./focus-trap-B5ENKrgJ.js";import"./logo-Bs1beLlF.js";const ie=u=>(H("data-v-998112f8"),u=u(),P(),u),pe={class:"register-main"},ue={class:"register-container"},de=ie(()=>_("div",{class:"register-title"},[_("div",{class:"label"},"参展企业注册")],-1)),ce={style:{flex:"1","text-align":"center","margin-top":"20px"}},_e=L({__name:"Register",setup(u){const k=T(),f=d(),r=$({companyName:"",sponsorId:"",userName:"",gender:"1",email:"",phone:"",code:"",policy:[]}),h={companyName:[{required:!0,message:"请输入企业名称",trigger:"blur"}],sponsorId:[{required:!0,message:"请选择主办",trigger:"blur"}],userName:[{required:!0,message:"请输入姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],policy:[{type:"array",required:!0,message:"请阅读并同意",trigger:"change"}]},y=d([]);re().then(s=>{s.code===0&&(y.value=s.data)});const I=s=>{s.validate(l=>{if(l)N();else return console.log("error submit"),!1})},N=()=>{let{policy:s,...l}=r;ae(l).then(a=>{a.code===0?(c.success("注册成功"),setTimeout(()=>{k.push("/login")},1e3)):c.error(a.msg)})},g=d("发送验证码"),n=d(0),w=()=>{let s=setInterval(()=>{n.value>0?(n.value--,g.value=`发送验证码(${n.value})`):(g.value="发送验证码",clearInterval(s))},1e3)},F=s=>{s.validateField(["phone"],l=>{if(l)n.value=60,se(r).then(a=>{a.code===0?(c.success("验证码已发送，请注意查收"),w()):(c.error(a.msg),n.value=0)});else return console.log("error phone"),n.value=0,!1})};return(s,l)=>{const a=me,m=W,i=le,S=ee,R=oe,v=Z,V=K,U=X,E=J,C=z,q=Y,M=j,B=Q;return b(),x("div",pe,[e(te),_("div",ue,[de,e(B,{style:{width:"900px",margin:"0 auto"},ref_key:"ruleFormRef",ref:f,model:r,rules:h,"label-width":"auto",class:"demo-ruleForm","status-icon":"","label-position":"left"},{default:o(()=>[e(v,{gutter:20},{default:o(()=>[e(i,{span:12},{default:o(()=>[e(m,{label:"企业名称",prop:"companyName"},{default:o(()=>[e(a,{modelValue:r.companyName,"onUpdate:modelValue":l[0]||(l[0]=t=>r.companyName=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:12},{default:o(()=>[e(m,{label:"选择主办",prop:"sponsorId"},{default:o(()=>[e(R,{modelValue:r.sponsorId,"onUpdate:modelValue":l[1]||(l[1]=t=>r.sponsorId=t),modelModifiers:{trim:!0},placeholder:"请选择主办"},{default:o(()=>[(b(!0),x(A,null,G(y.value,t=>(b(),O(S,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:20},{default:o(()=>[e(i,{span:12},{default:o(()=>[e(m,{label:"姓名",prop:"userName"},{default:o(()=>[e(a,{modelValue:r.userName,"onUpdate:modelValue":l[2]||(l[2]=t=>r.userName=t),modelModifiers:{trim:!0},style:{width:"calc(100% - 160px)"}},null,8,["modelValue"]),e(m,{label:"",prop:"gender"},{default:o(()=>[e(U,{modelValue:r.gender,"onUpdate:modelValue":l[3]||(l[3]=t=>r.gender=t),style:{"margin-left":"10px",width:"150px"}},{default:o(()=>[e(V,{value:"1"},{default:o(()=>[p("先生")]),_:1}),e(V,{value:"2"},{default:o(()=>[p("女士")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{span:12},{default:o(()=>[e(m,{label:"手机号",prop:"phone"},{default:o(()=>[e(a,{modelValue:r.phone,"onUpdate:modelValue":l[4]||(l[4]=t=>r.phone=t),modelModifiers:{trim:!0},style:{width:"calc(100% - 120px)"}},null,8,["modelValue"]),e(E,{type:"primary",style:{"margin-left":"10px",width:"110px"},onClick:l[5]||(l[5]=t=>F(f.value)),disabled:n.value!==0},{default:o(()=>[p(D(g.value),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1}),e(v,{gutter:20},{default:o(()=>[e(i,{span:12},{default:o(()=>[e(m,{label:"注册人邮箱",prop:"email"},{default:o(()=>[e(a,{modelValue:r.email,"onUpdate:modelValue":l[6]||(l[6]=t=>r.email=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{span:12},{default:o(()=>[e(m,{label:"验证码",prop:"code"},{default:o(()=>[e(a,{modelValue:r.code,"onUpdate:modelValue":l[7]||(l[7]=t=>r.code=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(m,{label:"",prop:"policy",style:{"margin-top":"20px"}},{default:o(()=>[e(M,{modelValue:r.policy,"onUpdate:modelValue":l[8]||(l[8]=t=>r.policy=t)},{default:o(()=>[e(q,{value:"1",name:"policy"},{default:o(()=>[e(C,{href:"https://scm.exposaas.com/web/terms/use",type:"primary",target:"_blank"},{default:o(()=>[p(" 已阅读并同意《注册条款》、《隐私声明》、《安全产品、服务和功能隐私声明》及《Cookie声明》")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:o(()=>[_("div",ce,[e(E,{type:"primary",onClick:l[9]||(l[9]=t=>I(f.value))},{default:o(()=>[p("立即提交")]),_:1})])]),_:1})]),_:1},8,["model"])])])}}}),Qe=ne(_e,[["__scopeId","data-v-998112f8"]]);export{Qe as default};
