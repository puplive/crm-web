import{d as O,l as s,v as N,o as m,c as i,w as o,S as a,P as F,Q as w,f as k,V as B,F as U,Z as Q,a8 as Z,_ as $,$ as j}from"./index-B51ZjI-P.js";import{E as q,a as D}from"./el-tab-pane-T4m-dyXX.js";import{b as G,E as J,a as K,c as W}from"./el-input-CF6DOVry.js";import"./el-tag-DzL8Udk6.js";import{E as X,a as Y}from"./el-select-HcL3ytrH.js";import"./el-scrollbar-BCNPLyH0.js";import{E as h}from"./el-col-BIM271tC.js";import{a as _}from"./index-D7s4B3C1.js";/* empty css                   */import{E as x}from"./index-BaJ0dyKc.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-zV6_ul5o.js";import"./vnode-Cb601ozU.js";import"./isEqual-BAmX46RD.js";import"./request-yC8UVKn-.js";const le=v=>($("data-v-fe7d1350"),v=v(),j(),v),ae={class:"title-bar"},oe=le(()=>F("label",{for:""},"公司信息",-1)),te=O({__name:"CluesAdd",setup(v){const T=Q();Z();const I=s("first"),u=s({companyName:"",contactName:"",contactTel:"",country:"",province:"",city:"",address:"",companyBrand:[],customField:[{}]}),V=s([]),y=s([]),b=s([]),c=s(""),f=s(""),C=s(""),S=()=>{console.log(u.value),T.push("/market/clues/info")},P=()=>{_.add(u.value).then(t=>{t.code===0?(x.success("保存成功"),T.go(-1)):x.error(t.msg)})},R=()=>{_.getCountry().then(t=>{t.code===0&&(V.value=t.data,c.value="CHN")})},z=()=>{_.getProvince({countryCode:c.value}).then(t=>{t.code===0&&(y.value=t.data)})},A=()=>{_.getCity({provinceCode:f.value}).then(t=>{t.code===0&&(b.value=t.data)})};return N(()=>c.value,t=>{let l=V.value.find(n=>n.code==t);u.value.country=l&&l.name||"",console.log(l),z()}),N(()=>f.value,t=>{let l=y.value.find(n=>n.code==t);u.value.province=l&&l.name||"",A()}),N(()=>C.value,t=>{let l=b.value.find(n=>n.code==t);u.value.city=l&&l.name||""}),R(),(t,l)=>{const n=G,p=J,d=K,r=h,E=Y,g=X,H=W,L=q,M=D;return m(),i(M,{modelValue:I.value,"onUpdate:modelValue":l[8]||(l[8]=e=>I.value=e),type:"border-card",class:"demo-tabs"},{default:o(()=>[a(L,{label:"资料",name:"first"},{default:o(()=>[a(H,{ref:"formRef",model:u.value,"label-width":"auto"},{default:o(()=>[F("div",ae,[oe,a(n,{type:"primary",onClick:P,size:"small"},{default:o(()=>[w("保存")]),_:1}),a(n,{type:"default",onClick:S,size:"small"},{default:o(()=>[w("取消")]),_:1})]),a(r,{md:12,lg:8},{default:o(()=>[a(r,null,{default:o(()=>[a(d,{label:"企业名称",prop:"companyName"},{default:o(()=>[a(p,{modelValue:u.value.companyName,"onUpdate:modelValue":l[0]||(l[0]=e=>u.value.companyName=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"联系人",prop:"contactName"},{default:o(()=>[a(p,{modelValue:u.value.contactName,"onUpdate:modelValue":l[1]||(l[1]=e=>u.value.contactName=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"联系电话",prop:"contactTel"},{default:o(()=>[a(p,{modelValue:u.value.contactTel,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value.contactTel=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"国家",prop:"country"},{default:o(()=>[a(g,{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=e=>c.value=e)},{default:o(()=>[(m(!0),k(U,null,B(V.value,e=>(m(),i(E,{key:e.code,label:e.name,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"省份",prop:"province"},{default:o(()=>[a(g,{modelValue:f.value,"onUpdate:modelValue":l[4]||(l[4]=e=>f.value=e)},{default:o(()=>[(m(!0),k(U,null,B(y.value,e=>(m(),i(E,{key:e.code,label:e.name,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"城市",prop:"city"},{default:o(()=>[a(g,{modelValue:C.value,"onUpdate:modelValue":l[5]||(l[5]=e=>C.value=e)},{default:o(()=>[(m(!0),k(U,null,B(b.value,e=>(m(),i(E,{key:e.code,label:e.name,value:e.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(r,null,{default:o(()=>[a(d,{label:"详细地址",prop:"address"},{default:o(()=>[a(p,{modelValue:u.value.address,"onUpdate:modelValue":l[6]||(l[6]=e=>u.value.address=e)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{label:"企业品牌",prop:"companyBrand"},{default:o(()=>[a(p,{modelValue:u.value.companyBrand[0],"onUpdate:modelValue":l[7]||(l[7]=e=>u.value.companyBrand[0]=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])}}}),Ce=ee(te,[["__scopeId","data-v-fe7d1350"]]);export{Ce as default};
