import{d as G,s as L,l as d,o as Z,f as j,P as v,S as e,w as o,Q as i,R as O,F as Q}from"./index-DVHkByco.js";import{E as q}from"./el-dialog-bp7p8zQB.js";import"./el-overlay-C63ZvL_K.js";import{a as A,E as H,b as J}from"./el-input-Dfe8Uzhl.js";import"./el-tag-BHjyucA7.js";import{a as K,E as W}from"./el-select-DgBIHiZD.js";import"./el-scrollbar-CG_JaPfx.js";import{E as X,a as Y}from"./el-radio-BWxioSU6.js";import{E as ee}from"./el-pagination-Y47XXVE0.js";import{E as le,a as oe}from"./el-table-89c60yQ4.js";import"./el-checkbox-Cqc95xet.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                        */import{E as ae}from"./el-button-9__Ng1jP.js";import{T as te}from"./index-CfuTKQ2m.js";import{a as b}from"./index-D6JUichE.js";/* empty css                   */import{E as ne}from"./el-message-box-BcM5ZuTJ.js";import{E as r}from"./request-kZhpW0Wr.js";import"./index-C-4RkVC5.js";import"./scroll-KUqymI_7.js";import"./vnode-tcDvg3gh.js";import"./typescript-_aKlIHPK.js";import"./_initCloneObject-CSxpNamp.js";import"./isEqual-QQ34r9eu.js";import"./isArrayLikeObject-C7wPhYU0.js";import"./el-date-picker-fOPNftKE.js";import"./arrays-6TrVLtTe.js";/* empty css                          */import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./aria-KgdLjl5h.js";import"./validator-BJiU7xXV.js";const ie={class:"s-table-operations"},se={class:"s-table-pagination"},re={style:{"font-size":"16px","font-weight":"bold"}},me={class:"dialog-footer"},Oe=G({__name:"Shared",setup(ue){const p=L({page:1,perPage:10}),V=d(0),w=d({}),E=d([]),c=d(null),h=d([]),y=t=>{w.value=t,p.page=1,f()},f=async()=>{b.getList({status:3,...p,...w.value}).then(t=>{t.code!==200&&(E.value=t.data.data,V.value=t.data.total)})},n=d({}),g=d(!1),S=t=>{n.value=t,g.value=!0},x=()=>{g.value=!1},z=()=>{let t=c.value.getSelectionRows().map(l=>l.id);if(t.length===0){r.warning("请选择需要领取的线索");return}b.getClues({id:t}).then(l=>{l.code===0?(r.success("领取成功"),f()):r.error(l.msg)})},U=()=>{let t=c.value.getSelectionRows().map(l=>l.id);if(t.length===0){r.warning("请选择需要删除的线索");return}ne.confirm("确定删除所选线索？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{b.del({id:t}).then(l=>{l.code===0?(r.success("删除成功"),f()):r.error(l.msg)})}).catch(()=>{})},R=()=>{if(c.value.getSelectionRows().map(l=>l.id).length===0){r.warning("请选择需要转移的线索");return}},T=()=>{let t=c.value.getSelectionRows().map(l=>l.id);if(t.length===0){r.warning("请选择需要移至公海的线索");return}b.changePublic({id:t}).then(l=>{l.code===0?(r.success("移至公海成功"),f()):r.error(l.msg)})},P=()=>{console.log("import")},B=()=>{console.log("export")};return b.getSearchField().then(t=>{t.code===0&&(h.value=t.data)}),f(),(t,l)=>{const s=ae,m=le,F=oe,N=ee,u=A,C=X,D=Y,_=H,k=K,M=W,$=J,I=q;return Z(),j(Q,null,[v("div",null,[e(te,{data:h.value,onSearch:y},null,8,["data"]),v("div",ie,[e(s,{size:"small",onClick:l[0]||(l[0]=a=>t.$router.push("/market/clues/add"))},{default:o(()=>[i("新增")]),_:1}),e(s,{size:"small",onClick:P},{default:o(()=>[i("导入")]),_:1}),e(s,{size:"small",onClick:B},{default:o(()=>[i("导出")]),_:1}),e(s,{size:"small",onClick:R},{default:o(()=>[i("转移")]),_:1}),e(s,{size:"small",onClick:z},{default:o(()=>[i("领取")]),_:1}),e(s,{size:"small",onClick:T},{default:o(()=>[i("移至公海")]),_:1}),e(s,{size:"small",onClick:U},{default:o(()=>[i("删除")]),_:1})]),e(F,{ref_key:"tableRef",ref:c,data:E.value,border:"","table-layout":"fixed","max-height":"300","header-row-class-name":"s-table-header"},{default:o(()=>[e(m,{type:"selection",width:"50"}),e(m,{prop:"companyName",label:"公司名称",width:"180"}),e(m,{prop:"exhibitionContact",label:"联系方式",width:"180"}),e(m,{prop:"duties",label:"职务"}),e(m,{prop:"phone",label:"电话"}),e(m,{prop:"recordTime",label:"记录时间",width:"180"}),e(m,{prop:"recordText",label:"记录内容"}),e(m,{prop:"authUser",label:"授权人"}),e(m,{fixed:"right",label:"操作",width:"120"},{default:o(a=>[e(s,{link:"",type:"primary",size:"small",onClick:de=>S(a.row)},{default:o(()=>[i(" 转为意向 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),v("div",se,[e(N,{layout:"total, sizes, prev, pager, next","page-sizes":[10,20,50],total:V.value,"current-page":p.page,"onUpdate:currentPage":l[1]||(l[1]=a=>p.page=a),"page-size":p.perPage,"onUpdate:pageSize":l[2]||(l[2]=a=>p.perPage=a),onChange:f},null,8,["total","current-page","page-size"])])]),e(I,{modelValue:g.value,"onUpdate:modelValue":l[11]||(l[11]=a=>g.value=a),title:"转为意向",width:"500",draggable:""},{footer:o(()=>[v("div",me,[e(s,{onClick:l[10]||(l[10]=a=>g.value=!1)},{default:o(()=>[i("取消")]),_:1}),e(s,{type:"primary",onClick:x},{default:o(()=>[i("确定")]),_:1})])]),default:o(()=>[e($,{model:n.value,"label-width":"auto"},{default:o(()=>[e(u,{label:" ",style:{"margin-bottom":"0"}},{default:o(()=>[v("span",re,O(n.value.name),1)]),_:1}),e(u,{label:" "},{default:o(()=>[e(D,{modelValue:n.value.type,"onUpdate:modelValue":l[3]||(l[3]=a=>n.value.type=a)},{default:o(()=>[e(C,{value:"1"},{default:o(()=>[i("新增账号")]),_:1}),e(C,{value:"2"},{default:o(()=>[i("关联账号")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"用户名"},{default:o(()=>[e(_,{modelValue:n.value.name,"onUpdate:modelValue":l[4]||(l[4]=a=>n.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(u,{label:"注册人"},{default:o(()=>[e(_,{modelValue:n.value.name,"onUpdate:modelValue":l[5]||(l[5]=a=>n.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(u,{label:"手机"},{default:o(()=>[e(_,{modelValue:n.value.name,"onUpdate:modelValue":l[6]||(l[6]=a=>n.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(u,{label:"邮箱"},{default:o(()=>[e(_,{modelValue:n.value.name,"onUpdate:modelValue":l[7]||(l[7]=a=>n.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(u,{label:"密码"},{default:o(()=>[e(_,{modelValue:n.value.name,"onUpdate:modelValue":l[8]||(l[8]=a=>n.value.name=a),autocomplete:"off"},null,8,["modelValue"])]),_:1}),e(u,{label:"项目"},{default:o(()=>[e(M,{modelValue:n.value.region,"onUpdate:modelValue":l[9]||(l[9]=a=>n.value.region=a),placeholder:"Please select a zone"},{default:o(()=>[e(k,{label:"Zone No.1",value:"shanghai"}),e(k,{label:"Zone No.2",value:"beijing"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}});export{Oe as default};
