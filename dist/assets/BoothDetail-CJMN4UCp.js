import{d as $,l as f,o as h,b as N,O as a,Q as l,R as e,i,P as r,h as w,a3 as y,F as D,a5 as V,X as A,Y as z}from"./index-C4ZHMdsf.js";import{E as F}from"./el-image-viewer-D5I6eAaG.js";import{E as M,a as U}from"./el-table-column-CZpklB2W.js";import"./el-checkbox-CDkq_TX-.js";import"./el-tooltip-l0sNRNKZ.js";import"./el-popper-B443bNNp.js";import"./el-scrollbar-DK_tWI4B.js";/* empty css                  */import"./el-tag-CHBC5oVH.js";import{b as T}from"./index-JbWmDGMp.js";import{i as X,p as j}from"./index-ByzsWCjn.js";import{_ as q}from"./UpInvoice.vue_vue_type_script_setup_true_lang-D8DLPUhf.js";import{_ as O}from"./ApplyInvoice.vue_vue_type_script_setup_true_lang-C9Tg0TCp.js";import{_ as Q,a as Y}from"./EditPayment.vue_vue_type_script_setup_true_lang-v4T9pewg.js";/* empty css                   *//* empty css                       *//* empty css                 *//* empty css                   */import{a as u}from"./request-dKwP9640.js";import{E as k}from"./index-p2j87hdZ.js";import{E as G}from"./index-Lvg0anao.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CZ7niqPb.js";import"./index-CYs0fHQD.js";import"./use-form-item-D6oge9Wn.js";import"./event-BB_Ol6Sd.js";import"./scroll-DR2mTp8M.js";import"./_initCloneObject-D0-Iyl8Y.js";import"./isArrayLikeObject-DD89v4wE.js";import"./isEqual-CXVvUB-S.js";import"./el-progress-CDxw8agF.js";import"./cloneDeep-BWHYeVvH.js";import"./_baseClone-BkNg7ClW.js";import"./index-D7M7nhN1.js";import"./el-dialog-DT0Vm4yd.js";import"./index-BRWKrWXD.js";import"./vnode-URQtSuPv.js";import"./refs-Cyz4nhRV.js";import"./el-form-item-7bO4EAtk.js";import"./castArray-Q0VEGTvx.js";/* empty css                       */import"./el-radio-DND-9TzI.js";import"./el-row-HkVZgwc_.js";import"./el-col-CpRxgkxP.js";import"./el-date-picker-CjX-6urB.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./arrays-6TrVLtTe.js";import"./index-D21LTkpT.js";import"./el-select-BAI-bRYo.js";import"./aria-KgdLjl5h.js";import"./validator-CSHokMzt.js";const v=_=>(A("data-v-649721e9"),_=_(),z(),_),J=v(()=>a("div",null,"详情",-1)),K=v(()=>a("div",{class:"title"},"展位订单",-1)),L={class:"info"},W={class:"table"},Z=v(()=>a("div",{class:"title"},"到款详情",-1)),ee={class:"table"},te=v(()=>a("div",{class:"title"},"发票详情",-1)),oe={class:"table"},ie=$({__name:"BoothDetail",setup(_){const S=V(),B=f(S.query.id),g=f(null),C=f(null),x=f(null),n=f({brand:[],payment:[],invoice:[]}),m=()=>{T.getDetail({id:B.value}).then(d=>{d.code===0?n.value=d.data:u.error(d.msg)})},E=d=>{k.confirm("是否确认要撤销订单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{T.revoke({id:d}).then(p=>{p.code===0?(u.success("撤销成功"),m()):u.error(p.msg)})}).catch(()=>{})},P=d=>{k.confirm("是否确认要删除发票?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{X.del({id:d}).then(p=>{p.code===0?(u.success("删除成功"),m()):u.error(p.msg)})}).catch(()=>{})},R=d=>{k.confirm("是否确认要删除付款记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{j.del({id:d}).then(p=>{p.code===0?(u.success("删除成功"),m()):u.error(p.msg)})}).catch(()=>{})};return m(),(d,p)=>{const t=M,c=G,b=U,I=F;return h(),N(D,null,[a("div",null,[J,a("div",null,[K,a("div",L,[a("span",null,"订单编号："+l(n.value.orderCode),1),a("span",null,"企业名称："+l(n.value.exhibitorName),1),a("span",null,"参展品牌："+l(n.value.brand.join(",")),1),a("span",null,"订单状态："+l(n.value.orderStatus),1),a("span",null,"订单生成时间："+l(n.value.orderTime),1),a("span",null,"下单人："+l(n.value.authUser),1),a("span",null,"对应销售："+l(n.value.clueUser),1)]),a("div",W,[e(b,{data:[n.value],border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[e(t,{prop:"exhibitionName",label:"项目名称","min-width":"120"}),e(t,{prop:"hallCode",label:"展馆号"}),e(t,{prop:"positionCode",label:"展位号"}),e(t,{prop:"area",label:"面积"}),e(t,{prop:"length",label:"展位尺寸","min-width":"120"},{default:i(o=>[r(l(o.row.length)+" X "+l(o.row.width),1)]),_:1}),e(t,{prop:"num",label:"展位数量","min-width":"120"}),e(t,{prop:"product",label:"产品名称","min-width":"120"}),e(t,{prop:"unitPrice",label:"单价"}),e(t,{prop:"orderPrice",label:"订单金额","min-width":"120"}),e(t,{prop:"contractStatus",label:"合同状态","min-width":"120"},{default:i(o=>[r(l(["未签约","已签约","已回执"][o.row.contractStatus]),1)]),_:1}),e(t,{prop:"payStatus",label:"付款状态","min-width":"120"},{default:i(o=>[r(l(["未付款","部分付款","已付款"][o.row.payStatus]),1)]),_:1}),e(t,{prop:"receivedPrice",label:"到款金额","min-width":"120"}),e(t,{prop:"notReceivedPrice",label:"未到金额","min-width":"120"}),e(t,{prop:"invoiceStatus",label:"发票状态","min-width":"120"},{default:i(o=>[r(l(["未申请","待开票","部分开票","已开票"][o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:i(o=>[n.value.orderStatus===1?(h(),w(c,{key:0,link:"",type:"primary",onClick:p[0]||(p[0]=s=>E(n.value.id))},{default:i(()=>[r("撤销")]),_:1})):n.value.orderStatus===0?(h(),w(c,{key:1,link:"",type:"",disabled:""},{default:i(()=>[r("已撤销")]),_:1})):y("",!0)]),_:1})]),_:1},8,["data"])]),Z,a("div",ee,[e(b,{data:n.value.payment,border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[e(t,{prop:"code",label:"录款编号","min-width":"120"}),e(t,{prop:"payCompany",label:"付款公司","min-width":"120"}),e(t,{prop:"payType",label:"到款类型","min-width":"120"},{default:i(o=>[r(l({1:"预定金",2:"首款",3:"二次款",4:"尾款",5:"转款"}[o.row.payType]),1)]),_:1}),e(t,{prop:"payPrice",label:"到款金额","min-width":"120"}),e(t,{prop:"payType",label:"付款方式","min-width":"120"},{default:i(o=>[r(l({1:"全款",2:"分期"}[o.row.payType]),1)]),_:1}),e(t,{prop:"payTime",label:"到款时间","min-width":"120"}),e(t,{prop:"receiveAccount",label:"收款账户","min-width":"120"}),e(t,{prop:"payImg",label:"付款凭证","min-width":"120"},{default:i(o=>[o.row.payImg?(h(),w(I,{key:0,style:{width:"30px",height:"30px"},src:o.row.payImg,"preview-src-list":[o.row.payImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):y("",!0)]),_:1}),e(t,{prop:"receiveImg",label:"到款凭证","min-width":"120"},{default:i(o=>[o.row.receiveImg?(h(),w(I,{key:0,style:{width:"30px",height:"30px"},src:o.row.receiveImg,"preview-src-list":[o.row.receiveImg],fit:"contain","preview-teleported":"true",loading:"lazy"},null,8,["src","preview-src-list"])):y("",!0)]),_:1}),e(t,{prop:"invoiceStatus",label:"发票状态","min-width":"120"},{default:i(o=>[r(l({0:"未申请",1:"待开票",2:"部分开票",3:"已开票"}[o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:i(o=>[e(c,{link:"",type:"primary",onClick:()=>{let s={...o.row,account:o.row.receiveAccount};x.value.setEdit(s)}},{default:i(()=>[r("编辑")]),_:2},1032,["onClick"]),e(c,{link:"",type:"primary",onClick:s=>g.value.setApply(o.row)},{default:i(()=>[r("申请发票")]),_:2},1032,["onClick"]),e(c,{link:"",type:"primary",onClick:s=>R(o.row.id)},{default:i(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),te,a("div",oe,[e(b,{data:n.value.invoice,border:"","table-layout":"fixed","show-overflow-tooltip":"","header-row-class-name":"s-table-header"},{default:i(()=>[e(t,{prop:"code",label:"编号"}),e(t,{prop:"title",label:"发票抬头","min-width":"120"}),e(t,{prop:"socialCode",label:"社会信用代码","min-width":"120"}),e(t,{prop:"price",label:"开票金额","min-width":"120"}),e(t,{prop:"invoiceType",label:"发票类型","min-width":"120"},{default:i(o=>[r(l({1:"电子专票",2:"电子普票"}[o.row.invoiceType]),1)]),_:1}),e(t,{prop:"contact",label:"联系人"}),e(t,{prop:"email",label:"发送邮箱","min-width":"120"}),e(t,{prop:"invoiceStatus",label:"开票状态","min-width":"120"},{default:i(o=>[r(l({0:"未申请",1:"待开票",2:"已开票"}[o.row.invoiceStatus]),1)]),_:1}),e(t,{prop:"invoiceCode",label:"发票号"}),e(t,{prop:"remark",label:"备注"}),e(t,{fixed:"right",label:"操作",width:"200"},{default:i(o=>[e(q,{id:o.row.id,onCallback:m},null,8,["id"]),e(c,{link:"",type:"primary",onClick:()=>{let s={...o.row,invoiceTitle:o.row.title};C.value.setEdit(s)}},{default:i(()=>[r("编辑")]),_:2},1032,["onClick"]),e(c,{link:"",type:"primary",onClick:s=>P(o.row.id)},{default:i(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])])]),e(O,{ref_key:"applyInvoiceRef",ref:g,onCallback:m},null,512),e(Q,{ref_key:"editInvoiceRef",ref:C,onCallback:m},null,512),e(Y,{ref_key:"editPaymentRef",ref:x,onCallback:m},null,512)],64)}}}),tt=H(ie,[["__scopeId","data-v-649721e9"]]);export{tt as default};
